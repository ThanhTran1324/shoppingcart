{"version":3,"sources":["history.js","apis/firebaseShoppingCart.js","actions/index.js","actions/types.js","actions/cartActions/index.js","actions/cartActions/type.js","components/ItemList.js","components/ItemForm.js","components/ItemNew.js","components/ItemEdit.js","components/Modal.js","components/ItemDelete.js","components/ItemView.js","components/GoogleAuth.js","components/Header.js","components/CartView.js","components/App.js","reducers/authReducer.js","reducers/cartReducer.js","reducers/index.js","reducers/itemReducer.js","index.js"],"names":["createBrowserHistory","firebaseConnect","firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","items","database","ref","itemFetch","id","dispatch","a","once","then","snapshot","val","response","type","payload","itemInCart","cartsFetch","ItemList","renderAdmin","item","userId","props","currentUserId","className","to","style","whiteSpace","renderList","Object","values","map","key","src","alt","onClick","cartAdd","overflow","name","price","this","itemsFetch","Component","connect","state","auth","set","ItemForm","renderInput","input","meta","label","confirmError","error","touched","errorClassName","onSubmit","formValue","parseInt","handleSubmit","Field","component","reduxForm","form","validate","ItemNew","itemCreate","formValues","getState","newItem","uuid","history","push","ItemEdit","match","params","itemEdit","console","log","initialValues","_","pick","ownProps","update","Modal","ReactDOM","createPortal","e","stopPropagation","header","content","actions","document","querySelector","ItemDelete","Fragment","itemDelete","remove","catch","ItemView","GoogleAuth","onAuthChange","isSignedIn","signIn","currentUser","get","getId","signOut","onSignOutClick","onSignInClick","window","gapi","load","client","init","clientId","scope","auth2","getAuthInstance","listen","marginTop","renderAuthButton","Header","cart","length","React","CartView","cartRemove","total","child","App","path","exact","INTIAL_STATE","initialState","combineReducers","action","formReducer","mapKeys","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render"],"mappings":"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","file":"static/js/main.d54999ec.chunk.js","sourcesContent":["import { createBrowserHistory } from \"history\";\n\nexport default createBrowserHistory();\n","import * as firebase from \"firebase\";\n\nvar config = {\n  apiKey: process.env.REACT_APP_API_1,\n  authDomain: process.env.REACT_APP_API_2,\n  databaseURL: process.env.REACT_APP_API_3,\n  projectId: process.env.REACT_APP_API_4,\n  storageBucket: process.env.REACT_APP_API_5,\n  messagingSenderId: process.env.REACT_APP_API_6,\n  appId: process.env.REACT_APP_API_7,\n  measurementId: process.env.REACT_APP_API_8\n};\n// Initialize Firebase\n\nexport const firebaseConnect = firebase.initializeApp(config);\n","import {\n  SIGN_IN,\n  SIGN_OUT,\n  ITEM_CREATE,\n  ITEMS_FETCH,\n  ITEM_DELETE,\n  ITEM_FETCH,\n  ITEM_EDIT\n} from \"./types\";\nimport uuid from \"uuid\";\nimport { firebaseConnect } from \"../apis/firebaseShoppingCart\";\nimport history from \"../history\";\nimport * as _ from \"lodash\";\n\n// var data = firebaseConnect.database().ref(\"/\");\n\nlet items = firebaseConnect.database().ref(\"/items\");\nexport const signIn = userId => {\n  return {\n    type: SIGN_IN,\n    payload: userId\n  };\n};\n\nexport const signOut = () => {\n  return {\n    type: SIGN_OUT\n  };\n};\n\nexport const itemCreate = formValues => async (dispatch, getState) => {\n  const userId = getState().auth.userId;\n  const newItem = {\n    ...formValues,\n    userId: userId,\n    id: uuid()\n  };\n  firebaseConnect\n    .database()\n    .ref(`items/${newItem.id}`)\n    .set(newItem);\n\n  const response = await firebaseConnect\n    .database()\n    .ref(`items/${newItem.id}`)\n    .once(\"value\")\n    .then(snapshot => {\n      return snapshot.val();\n    });\n\n  dispatch({\n    type: ITEM_CREATE,\n    payload: response\n  });\n  history.push(\"/\");\n};\n\nexport const itemsFetch = () => async dispatch => {\n  var response = await items.once(\"value\").then(snapshot => {\n    return snapshot.val();\n  });\n  //items.set(_.keyBy(response, \"id\")); convert array to Object to fix database\n  dispatch({\n    type: ITEMS_FETCH,\n    payload: response\n  });\n};\n\nexport const itemFetch = id => async dispatch => {\n  let response = await items.once(\"value\").then(snapshot => {\n    return snapshot.val()[id]; //access to Object and get value with key = id\n  });\n  dispatch({\n    type: ITEM_FETCH,\n    payload: response\n  });\n};\n\nexport const itemDelete = id => async dispatch => {\n  const deleteItem = await firebaseConnect.database().ref(`items/${id}`);\n  deleteItem\n    .remove()\n    .then(() => {\n      dispatch({\n        type: ITEM_DELETE,\n        payload: id\n      });\n    })\n    .catch(error => {\n      console.log(error); // need fix delete error\n    });\n  history.push(\"/\");\n};\nexport const itemEdit = (id, formValues) => async dispatch => {\n  let editItem = firebaseConnect.database().ref(`items/${id}`);\n  editItem.update(formValues);\n  const response = await firebaseConnect\n    .database()\n    .ref(`items/${id}`)\n    .once(\"value\")\n    .then(snapshot => {\n      return snapshot.val();\n    });\n  dispatch({\n    type: ITEM_EDIT,\n    payload: response\n  });\n  history.push(\"/\");\n};\n","export const SIGN_IN = \"SIGN_IN\";\nexport const SIGN_OUT = \"SIGN_OUT\";\nexport const ITEM_CREATE = \"ITEM_CREATE\";\nexport const ITEM_EDIT = \"ITEM_EDIT\";\nexport const ITEMS_FETCH = \"ITEMS_FETCH\";\nexport const ITEM_FETCH = \"ITEM_FETCH\";\nexport const ITEM_DELETE = \"ITEM_DELETE\";\n","import { CART_ADD, CART_FETCH, CART_REMOVE } from \"./type\";\n\nimport { firebaseConnect } from \"../../apis/firebaseShoppingCart\";\n//import history from \"../../history\";\n\nlet itemInCart = firebaseConnect.database().ref(\"/cart\");\n\nexport const cartAdd = item => async dispatch => {\n  await firebaseConnect\n    .database()\n    .ref(`cart/${item.id}`)\n    .set(item);\n  dispatch({\n    type: CART_ADD,\n    payload: item\n  });\n};\n\nexport const cartsFetch = () => async dispatch => {\n  itemInCart = await firebaseConnect\n    .database()\n    .ref(`/cart`)\n    .once(\"value\")\n    .then(snapshot => {\n      return snapshot.val();\n    });\n\n  dispatch({\n    type: CART_FETCH,\n    payload: itemInCart\n  });\n};\n\nexport const cartRemove = id => async dispatch => {\n  firebaseConnect\n    .database()\n    .ref(`cart/`)\n    .child(id) //id of child\n    .remove();\n\n  dispatch({\n    type: CART_REMOVE,\n    payload: id\n  });\n};\n","export const CART_ADD = \"CART_ADD\";\nexport const CART_FETCH = \"CART_FETCH\";\nexport const CART_REMOVE = \"CART_REMOVE\";\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport { itemsFetch } from \"../actions\";\nimport { cartAdd } from \"../actions/cartActions\";\n\nexport class ItemList extends Component {\n  componentDidMount() {\n    this.props.itemsFetch();\n  }\n  renderAdmin = item => {\n    if (item.userId === this.props.currentUserId)\n      return (\n        <div>\n          <hr></hr>\n          <div className=\"ui large two buttons\">\n            <Link\n              to={`/items/delete/${item.id}`}\n              className=\"ui  negative button \"\n              style={{ whiteSpace: \"nowrap\" }}\n            >\n              <i className=\"icon trash alternate\" />\n              Delete\n            </Link>\n            <div className=\"or\"></div>\n            <Link\n              to={`/items/edit/${item.id}`}\n              className=\"ui  positive button \"\n            >\n              <i className=\"edit icon\"></i>Edit\n            </Link>\n          </div>\n        </div>\n      );\n  };\n  renderList = () => {\n    return Object.values(this.props.items).map(item => {\n      return (\n        <div className=\"card  \" key={item.id}>\n          <div className=\"blurring dimmable image\">\n            <img\n              src=\"https://www.mercurynews.com/wp-content/uploads/2019/06/SJM-L-EDPRAIL16-0616-03.jpg?w=403\"\n              alt=\"hinh\"\n            ></img>\n          </div>\n          <div className=\"content\">\n            <div className=\" ui buttons right floated\">\n              <button\n                className=\"ui button primary\"\n                onClick={() => this.props.cartAdd(item)}\n              >\n                <i className=\"shopping cart icon\"></i>\n                Add to cart\n              </button>\n            </div>\n            <div className=\"header\" style={{ overflow: \"hidden\" }}>\n              {item.name}\n            </div>\n            <div className=\"meta\">\n              <span className=\"price\">${item.price}</span>\n            </div>\n\n            <div className=\"extra content\">{this.renderAdmin(item)}</div>\n          </div>\n        </div>\n\n        // <div key={item.id} className=\"item\">\n        //   {item.name}/${item.price}\n        //   <div className=\" ui buttons right floated\">\n        //     {this.renderAdmin(item)}\n        //     <button\n        //       className=\"ui button primary\"\n        //       onClick={() => this.props.cartAdd(item)}\n        //     >\n        //       <i className=\"shopping cart icon\"></i>\n        //       Add to cart\n        //     </button>\n        //   </div>\n        // </div>\n      );\n    });\n  };\n  render() {\n    return (\n      <div className=\"ui container  \">\n        <div className=\"ui special centered cards \">{this.renderList()}</div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    items: state.items,\n    currentUserId: state.auth.userId\n  };\n};\nexport default connect(mapStateToProps, { itemsFetch, cartAdd })(ItemList);\n","import React, { Component } from \"react\";\nimport { Field, reduxForm } from \"redux-form\";\n\nclass ItemForm extends Component {\n  renderInput = ({ input, meta, label, type }) => {\n    const confirmError = meta.error && meta.touched;\n    const errorClassName = `field ${confirmError ? `error` : ``}`;\n\n    return (\n      <div className={errorClassName}>\n        <label>\n          {label}\n          {`${confirmError ? \"Requited\" : \"\"}`}\n        </label>\n        <input {...input} type={type} />\n      </div>\n    );\n  };\n\n  onSubmit = formValue => {\n    formValue.price = parseInt(formValue.price);\n    this.props.onSubmit(formValue);\n  };\n  render() {\n    return (\n      <form\n        onSubmit={this.props.handleSubmit(this.onSubmit)}\n        className=\"ui form error\"\n      >\n        <Field name=\"name\" component={this.renderInput} label=\"Name : \" />\n        <Field\n          name=\"price\"\n          component={this.renderInput}\n          label=\"Price: \"\n          type=\"number\"\n        />\n        <button className=\"ui green approve right button\">Submit</button>\n      </form>\n    );\n  }\n}\n\nconst validate = formValue => {\n  const error = {};\n  if (!formValue.name) error.name = \"Requite Value!\";\n  if (!formValue.price) error.price = \"Requite Value!\";\n\n  return error;\n};\n\nexport default reduxForm({\n  form: \"ItemForm\",\n  validate\n})(ItemForm);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { itemCreate } from \"../actions\";\nimport ItemForm from \"./ItemForm\";\n\nclass ItemNew extends Component {\n  onSubmit = formValue => {\n    this.props.itemCreate(formValue);\n  };\n  render() {\n    return <ItemForm onSubmit={this.onSubmit}></ItemForm>;\n  }\n}\nexport default connect(null, { itemCreate })(ItemNew);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\n\nimport ItemForm from \"./ItemForm\";\n\nimport { itemFetch, itemEdit } from \"../actions\";\nclass ItemEdit extends Component {\n  componentDidMount() {\n    this.props.itemFetch(this.props.match.params.id);\n  }\n  id = this.props.match.params.id;\n\n  onSubmit = formValues => {\n    this.props.itemEdit(this.id, formValues);\n  };\n  render() {\n    console.log(this.props.item);\n    if (this.props.item)\n      return (\n        <ItemForm\n          onSubmit={this.onSubmit}\n          initialValues={_.pick(this.props.item, \"name\", \"price\")}\n        ></ItemForm>\n      );\n    else return \"loading\";\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    item: state.items[ownProps.match.params.id]\n  };\n};\nexport default connect(mapStateToProps, { itemFetch, itemEdit })(ItemEdit);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport history from \"../history\";\nconst Modal = props => {\n  return ReactDOM.createPortal(\n    <div\n      onClick={() => history.push(\"/\")}\n      className=\"ui dimmer modals visible active\"\n    >\n      <div\n        onClick={e => e.stopPropagation()}\n        className=\"ui standard modal visible active\"\n      >\n        <div className=\"header\">{props.header}</div>\n        <div className=\"content\"> {props.content}</div>\n        <div className=\"actions\">{props.actions}</div>\n      </div>\n    </div>,\n    document.querySelector(\"#modal\")\n  );\n};\n\nexport default Modal;\n","import React, { Component } from \"react\";\nimport Modal from \"./Modal\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport { itemFetch, itemDelete } from \"../actions\";\nclass ItemDelete extends Component {\n  componentDidMount() {\n    this.props.itemFetch(this.props.match.params.id);\n  }\n  actions = () => {\n    return (\n      <React.Fragment>\n        <Link to=\"/\" className=\"ui button\">\n          Cancel\n        </Link>\n        <button\n          className=\"ui button primary\"\n          onClick={() => this.props.itemDelete(this.props.match.params.id)}\n        >\n          Delete\n        </button>\n      </React.Fragment>\n    );\n  };\n  render() {\n    //console.log(this.props.item);\n    return (\n      <div>\n        <Modal\n          actions={this.actions()}\n          header=\"Delete Item\"\n          content={`Do you want to delete   ${\n            this.props.item ? this.props.item.name : \"\"\n          }?`}\n        ></Modal>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state, ownProps) => {\n  console.log(ownProps.match.params.id);\n  return {\n    item: state.items[ownProps.match.params.id]\n  };\n};\nexport default connect(mapStateToProps, { itemFetch, itemDelete })(ItemDelete);\n","import React, { Component } from \"react\";\n\nexport class ItemView extends Component {\n  render() {\n    return <div>view</div>;\n  }\n}\n\nexport default ItemView;\n","import React, { Component } from \"react\";\n\nimport { connect } from \"react-redux\";\nimport { signIn, signOut } from \"../actions\";\nexport class GoogleAuth extends Component {\n  componentDidMount() {\n    window.gapi.load(\"client:auth2\", () => {\n      window.gapi.client\n        .init({\n          clientId:\n            \"590200662429-34jk1gcaifl8d9mhquo1u91r1rbga1nl.apps.googleusercontent.com\",\n          scope: \"email\"\n        })\n        .then(() => {\n          //run when gapi loaded\n          this.auth = window.gapi.auth2.getAuthInstance();\n          this.onAuthChange(this.auth.isSignedIn.get());\n          this.auth.isSignedIn.listen(this.onAuthChange); //get isSignedIn as first argument to function onAuthChange\n\n          //if isSignedIn change the function onAuthChange will be call to update state.isSignin\n        });\n    });\n  }\n  onAuthChange = isSignedIn => {\n    if (isSignedIn) this.props.signIn(this.auth.currentUser.get().getId());\n    else this.props.signOut();\n  };\n\n  onSignOutClick = () => {\n    this.auth.signOut();\n  };\n\n  onSignInClick = () => {\n    this.auth.signIn();\n  };\n\n  renderAuthButton() {\n    if (this.props.isSignedIn === null) return null;\n    else if (this.props.isSignedIn)\n      return (\n        <button\n          onClick={this.onSignOutClick}\n          style={{ marginTop: \"3px\" }}\n          className=\"ui gray google button\"\n        >\n          <i className=\"google icon\" />\n          Logout\n        </button>\n      );\n    else\n      return (\n        <button onClick={this.onSignInClick} className=\"ui red google button\">\n          <i className=\"google icon\"></i>Login With Google\n        </button>\n      );\n  }\n  render() {\n    //console.log(this.props.isSignedIn);\n    //console.log(this.props.currentUserIdFromReducer);\n    return <div>{this.renderAuthButton()}</div>;\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    isSignedIn: state.auth.isSignedIn\n  };\n};\nexport default connect(mapStateToProps, { signIn, signOut })(GoogleAuth);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport GoogleAuth from \"./GoogleAuth\";\n\nimport { cartsFetch } from \"../actions/cartActions\";\nclass Header extends React.Component {\n  componentDidMount() {\n    this.props.cartsFetch();\n  }\n  render() {\n    return (\n      <div className=\"ui teal four item inverted menu\">\n        <Link to=\"/\" className=\"active item\">\n          Home\n        </Link>\n        <Link to=\"/items/new\" className=\"item\">\n          Create Item\n        </Link>\n        <Link id=\"cart\" to=\"/cart/view\" className=\"item\">\n          Cart <i className=\" icon shopping cart\" />\n          <span className=\"badge\">{` ( ${\n            Object.values(this.props.cart).length\n          })`}</span>\n        </Link>\n        <GoogleAuth className=\"item\" />\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    cart: state.cart\n  };\n};\nexport default connect(mapStateToProps, { cartsFetch })(Header);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n//import { Link } from \"react-router-dom\";\nimport { cartRemove, cartsFetch } from \"../actions/cartActions\";\nexport class CartView extends Component {\n  componentDidMount() {\n    this.props.cartsFetch();\n  }\n  renderList = () => {\n    return Object.values(this.props.cart).map(item => {\n      return (\n        <div key={item.id} className=\"item\">\n          {item.name}/${item.price}\n          <div className=\" ui buttons right floated\">\n            <button\n              onClick={() => this.props.cartRemove(item.id)}\n              className=\"ui negative button right floated\"\n            >\n              Remove\n            </button>\n          </div>\n        </div>\n      );\n    });\n  };\n  total = () => {\n    var total = 0;\n    Object.values(this.props.cart).map(item => {\n      return (total += parseInt(item.price));\n    });\n    return total;\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"ui celled list\">{this.renderList()}</div>\n        <div className=\"ui right floated\">\n          <h3> Total: ${this.total()}</h3>\n          <button className=\"fluid ui button positive \">Pay</button>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    cart: state.cart\n  };\n};\nexport default connect(mapStateToProps, { cartRemove, cartsFetch })(CartView);\n","import React from \"react\";\nimport { Router, Route, Switch } from \"react-router-dom\";\n\nimport history from \"../history\";\nimport ItemList from \"./ItemList\";\nimport ItemNew from \"./ItemNew\";\nimport ItemEdit from \"./ItemEdit\";\nimport ItemDelete from \"./ItemDelete\";\nimport ItemView from \"./ItemView\";\nimport Header from \"./Header\";\n\nimport CartView from \"./CartView\";\n\nclass App extends React.Component {\n  render() {\n    return (\n      <div className=\"ui container\">\n        <Router history={history}>\n          <div>\n            <Header />\n            <Switch>\n              <Route path=\"/\" exact component={ItemList}></Route>\n              <Route path=\"/items/new\" exact component={ItemNew}></Route>\n              <Route path=\"/items/edit/:id\" exact component={ItemEdit}></Route>\n              <Route\n                path=\"/items/delete/:id\"\n                exact\n                component={ItemDelete}\n              ></Route>\n              <Route path=\"/items/view/:id\" exact component={ItemView}></Route>\n\n              <Route path=\"/cart/view\" exact component={CartView}></Route>\n            </Switch>\n          </div>\n        </Router>\n      </div>\n    );\n  }\n}\nexport default App;\n","import { SIGN_IN, SIGN_OUT } from \"../actions/types\";\n\nconst INTIAL_STATE = {\n  isSignedIn: null,\n  userId: null\n};\nexport default (state = INTIAL_STATE, action) => {\n  switch (action.type) {\n    case SIGN_IN:\n      return { ...state, isSignedIn: true, userId: action.payload };\n    case SIGN_OUT:\n      return { ...state, isSignedIn: false, userId: null };\n    default:\n      return state;\n  }\n};\n","import { CART_ADD, CART_FETCH, CART_REMOVE } from \"../actions/cartActions/type\";\nimport _ from \"lodash\";\nconst initialState = {};\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case CART_ADD:\n      return { ...state, [action.payload.id]: action.payload };\n    case CART_FETCH:\n      return { ...state, ..._.mapKeys(action.payload, \"id\") };\n    case CART_REMOVE:\n      return _.omit(state, action.payload);\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport authReducer from \"./authReducer\";\nimport { reducer as formReducer } from \"redux-form\";\nimport itemReducer from \"./itemReducer\";\nimport cartReducer from \"./cartReducer\";\nexport default combineReducers({\n  auth: authReducer,\n  form: formReducer,\n  items: itemReducer,\n  cart: cartReducer\n});\n","import {\n  ITEM_CREATE,\n  ITEM_EDIT,\n  ITEMS_FETCH,\n  ITEM_FETCH,\n  ITEM_DELETE\n} from \"../actions/types\";\nimport _ from \"lodash\";\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case ITEM_CREATE:\n      return { ...state, [action.payload.id]: action.payload };\n    case ITEM_EDIT:\n      return { ...state, [action.payload.id]: action.payload };\n    case ITEM_FETCH:\n      return { ...state, [action.payload.id]: action.payload };\n    case ITEMS_FETCH:\n      return { ...state, ..._.mapKeys(action.payload, \"id\") };\n    case ITEM_DELETE:\n      return _.omit(state, action.payload);\n    default:\n      return state;\n  }\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport reduxThunk from \"redux-thunk\";\nimport reducers from \"./reducers\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}