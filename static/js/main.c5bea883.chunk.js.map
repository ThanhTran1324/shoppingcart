{"version":3,"sources":["images/thanh_logo.jpg","history.js","apis/firebaseShoppingCart.js","actions/cartActions/index.js","actions/cartActions/type.js","actions/index.js","actions/types.js","components/SortAndFilter.js","actions/filterActions/index.js","components/Loading.js","components/Utility.js","components/ItemList.js","components/RenderButtonLoginAsGuestUser.js","components/LoginRequiteBanner.js","components/ItemForm.js","components/ItemNew.js","components/ItemEdit.js","components/Modal.js","components/ItemDelete.js","components/ItemView.js","components/Header.js","components/Auth.js","components/MyPaypalButton.js","components/CartView.js","components/ForGotPassword.js","components/LoginPrompt.js","components/App.js","reducers/cartReducer.js","reducers/authReducer.js","reducers/index.js","reducers/itemReducer.js","reducers/filterReducer.js","index.js"],"names":["module","exports","createBrowserHistory","firebaseConnect","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","cartAdd","item","dispatch","getState","a","userId","auth","database","ref","id","set","type","payload","NotificationManager","success","error","cartFetch","response","once","then","dataSnapshot","val","cartClean","items","signIn","isAnonymous","signInAsAnonymous","isSignedIn","errorMessage","signInAnonymously","catch","message","history","push","signOut","console","log","itemFetch","orderByChild","equalTo","snapshot","itemImageDelete","imageUrl","storage","refFromURL","delete","itemSorted","name","value","sortedItems","originalItems","_","Object","values","o","reverse","sort","b","price","createdTime","SortAndFilter","renderSelecter","input","label","option","className","onChange","handleChange","defaultValue","map","e","index","key","target","props","handleOnSearch","formValues","itemSearch","search","renderSearch","onSubmit","handleSubmit","placeholder","style","marginTop","marginBottom","backgroundColor","borderRadius","Field","component","this","initialValues","Component","wrapper","connect","state","searchKey","undefined","isSearching","reduxForm","form","Loading","shortString","str","num","length","slice","ItemList","renderAdmin","currentUserId","to","addToCartHandler","renderList","src","images","alt","onClick","myFilter","filter","toLowerCase","includes","itemsFetch","keys","searchform","SortAndFilterForm","RenderButtonLoginAsGuestUser","fontSize","color","LoginRequiteBanner","banner","content","React","ItemForm","selectedFile","imageLink","uploadPercent","imageName","componentDidMount","setState","renderInput","meta","confirmError","touched","errorClassName","renderPreImage","renderImageInput","fileSelectedHandler","fileUploadHandler","tabIndex","parseFloat","toFixed","convertImage","reader","FileReader","readAsDataURL","size","onload","event","img","Image","result","el","elem","document","createElement","scaleFactor","width","height","ctx","getContext","drawImage","srcEncoded","canvas","toDataURL","binary","atob","split","array","i","charCodeAt","Blob","Uint8Array","files","getElementById","disabled","classList","add","randomImagePrefix","Math","floor","random","preventDefault","filename","uploadTask","put","on","bytesTransferred","totalBytes","getDownloadURL","downloadURL","formValue","date","Date","getTime","validate","ItemNew","itemCreate","newItem","uuidv4","ItemEdit","match","params","itemEdit","pick","ownProps","update","Modal","ReactDOM","createPortal","goBack","stopPropagation","header","actions","querySelector","ItemDelete","Fragment","itemDelete","remove","ItemView","renderItemInfo","margin","Header","analytics","onAuthStateChanged","user","uid","renderCartBadge","number","cart","renderAuthButton","thanh_logo","Auth","autoComplete","showVerifyPassword","credential","EmailAuthProvider","email","password","currentUser","linkWithCredential","usercred","createUserWithEmailAndPassword","errorCode","code","signInWithEmailAndPassword","renderErrorFromServer","googleLogin","provider","GoogleAuthProvider","signInWithPopup","renderVerifyPassword","renderForgetPassword","SignInSignUpSwitch","cursor","componentWrapup","verifyPassword","MyPaypalButton","amount","currency","catchError","err","onSuccess","details","data","transactionSuccess","fetch","method","body","JSON","stringify","orderId","orderID","options","clientId","payer","given_name","CartView","cartRemove","countTotal","cartItems","totalAmount","renderWarningPanelForlAnonymoust","renderTotalAndPaypal","description","justifyContent","textAlign","child","ForGotPassword","componentWillMount","marginLeft","sendPasswordResetEmail","innerHTML","LoginPrompt","App","path","exact","initialState","INTIAL_STATE","combineReducers","action","formReducer","mapKeys","omit","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render"],"mappings":"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","file":"static/js/main.c5bea883.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/thanh_logo.f9b63344.jpg\";","import { createBrowserHistory } from \"history\";\r\n\r\nexport default createBrowserHistory();\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/database\";\r\nimport \"firebase/analytics\";\r\n\r\nvar config = {\r\n  apiKey: process.env.REACT_APP_API_1,\r\n  authDomain: process.env.REACT_APP_API_2,\r\n  databaseURL: process.env.REACT_APP_API_3,\r\n  projectId: process.env.REACT_APP_API_4,\r\n  storageBucket: process.env.REACT_APP_API_5,\r\n  messagingSenderId: process.env.REACT_APP_API_6,\r\n  appId: process.env.REACT_APP_API_7,\r\n  measurementId: process.env.REACT_APP_API_8,\r\n};\r\n// Initialize Firebase\r\n\r\nexport const firebaseConnect = firebase.initializeApp(config);\r\n","import { CART_ADD, CART_FETCH, CART_REMOVE, CART_CLEAN } from \"./type\";\r\n\r\nimport { firebaseConnect } from \"../../apis/firebaseShoppingCart\";\r\n//import history from \"../../history\";\r\nimport { NotificationManager } from \"react-notifications\";\r\n\r\nexport const cartAdd = (item) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n\r\n  //for Logined User\r\n  if (userId) {\r\n    await firebaseConnect\r\n      .database()\r\n      .ref(`/cart/Cart-${userId}/${item.id}`)\r\n      .set(item);\r\n\r\n    dispatch({\r\n      type: CART_ADD,\r\n      payload: item,\r\n    });\r\n    NotificationManager.success(\r\n      \"You have added a new Item!\",\r\n      \"Successful!\",\r\n      2000\r\n    );\r\n  } else {\r\n    NotificationManager.error(\"Please Login !\", \"Warning\", 2000);\r\n  }\r\n};\r\n\r\nexport const cartFetch = () => async (dispatch, getState) => {\r\n  const userId = await getState().auth.userId;\r\n  let response = {};\r\n  if (userId !== null) {\r\n    response = await firebaseConnect\r\n      .database()\r\n      .ref(`/cart/Cart-${userId}`)\r\n      .once(\"value\")\r\n      .then(function (dataSnapshot) {\r\n        return dataSnapshot.val();\r\n      });\r\n    dispatch({\r\n      type: CART_FETCH,\r\n      payload: response,\r\n    });\r\n  }\r\n};\r\n\r\nexport const cartRemove = (id) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  if (userId) {\r\n    firebaseConnect\r\n      .database()\r\n      .ref(`/cart/Cart-${userId}/`)\r\n      .child(id) //id of child\r\n      .remove();\r\n\r\n    dispatch({\r\n      type: CART_REMOVE,\r\n      payload: id,\r\n    });\r\n  }\r\n};\r\nexport const cartClean = () => (dispatch) => {\r\n  dispatch({ type: CART_CLEAN });\r\n};\r\n","export const CART_ADD = \"CART_ADD\";\r\nexport const CART_FETCH = \"CART_FETCH\";\r\nexport const CART_REMOVE = \"CART_REMOVE\";\r\nexport const CART_CLEAN = \"CART_CLEAN\";\r\n","import {\r\n  SIGN_IN,\r\n  SIGN_OUT,\r\n  ITEM_CREATE,\r\n  ITEMS_FETCH,\r\n  ITEM_DELETE,\r\n  ITEM_FETCH,\r\n  ITEM_EDIT,\r\n  ITEM_SORTED,\r\n} from \"./types\";\r\nimport { cartClean } from \"./cartActions/\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { firebaseConnect } from \"../apis/firebaseShoppingCart\";\r\nimport history from \"../history\";\r\n\r\nimport firebase from \"firebase\";\r\n// import { cartAdd } from \"./cartActions\";\r\n// import { CART_CLEAN } from \"./cartActions/type\";\r\nimport * as _ from \"lodash\";\r\nimport { NotificationManager } from \"react-notifications\";\r\n// var data = firebaseConnect.database().ref(\"/\");\r\n\r\nlet items = firebaseConnect.database().ref(\"items\");\r\n\r\nexport const signIn = (userId, isAnonymous) => async (dispatch) => {\r\n  if (isAnonymous)\r\n    NotificationManager.success(\r\n      \"Your Shopping Cart Items Will Be Added When You Create a New Account.\",\r\n      \"Anonymous Login Success\",\r\n      5000\r\n    );\r\n  else NotificationManager.success(\"Login Success\", \"Success\", 2000);\r\n  await dispatch({\r\n    type: SIGN_IN,\r\n    payload: { userId, isAnonymous },\r\n  });\r\n};\r\n\r\nexport const signInAsAnonymous = () => async (dispatch, getState) => {\r\n  if (!getState().auth.isSignedIn) {\r\n    var errorMessage = null;\r\n    //if user is not login so create new anonymous user\r\n    await firebaseConnect\r\n      .auth()\r\n      .signInAnonymously()\r\n      .catch((error) => {\r\n        errorMessage = error.message;\r\n        NotificationManager.error(errorMessage, \"Error\", 2000);\r\n      });\r\n    history.push(\"/shoppingcart\");\r\n  }\r\n};\r\n\r\nexport const signOut = () => (dispatch) => {\r\n  firebase\r\n    .auth()\r\n    .signOut()\r\n    .then(() => {\r\n      NotificationManager.success(\"\", \"Logout Successful\", 2000);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n      NotificationManager.error(error.errorMessage, \"Error\", 2000);\r\n    });\r\n\r\n  dispatch({ type: SIGN_OUT });\r\n  dispatch(cartClean());\r\n  history.push(\"/shoppingcart\");\r\n};\r\n\r\nexport const itemCreate = (formValues) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  const newItem = {\r\n    ...formValues,\r\n    userId: userId,\r\n    id: uuidv4(),\r\n  };\r\n  firebaseConnect.database().ref(`items/${newItem.id}`).set(newItem);\r\n\r\n  const response = await firebaseConnect\r\n    .database()\r\n    .ref(`items/${newItem.id}`)\r\n    .once(\"value\")\r\n    .then((snapshot) => {\r\n      return snapshot.val();\r\n    });\r\n  if (response) NotificationManager.success(\"\", \"New Item Created\", 2000);\r\n  dispatch({\r\n    type: ITEM_CREATE,\r\n    payload: response,\r\n  });\r\n  history.push(\"/shoppingcart\");\r\n};\r\n\r\nexport const itemsFetch = () => async (dispatch) => {\r\n  let response = await items.once(\"value\").then(function (snapshot) {\r\n    return snapshot.val();\r\n  });\r\n  dispatch({\r\n    type: ITEMS_FETCH,\r\n    payload: response,\r\n  });\r\n  dispatch(itemSorted(\"time\", \"1\")); //sort item as new first after fetch\r\n};\r\n//items.set(_.keyBy(response, \"id\")); convert array to Object to fix database\r\n\r\nexport const itemFetch = (id) => async (dispatch) => {\r\n  // let response = await items.once(\"value\").then(snapshot => {\r\n  //   return snapshot.val()[id]; //access to Object and get value with key = id\r\n  // });\r\n  let response = await items\r\n    .orderByChild(\"id\")\r\n    .equalTo(id)\r\n    .once(\"value\")\r\n    .then(function (snapshot) {\r\n      return snapshot.val();\r\n    });\r\n  dispatch({\r\n    type: ITEM_FETCH,\r\n    payload: response[id],\r\n  });\r\n};\r\nexport const itemImageDelete = (imageUrl) => () => {\r\n  firebaseConnect\r\n    .storage()\r\n    .refFromURL(imageUrl)\r\n    .delete()\r\n    .then(function () {\r\n      console.log(\"image deleted\");\r\n    })\r\n    .catch(function () {\r\n      console.log(\"unable to delete image\");\r\n    });\r\n};\r\nexport const itemDelete = (id) => async (dispatch, getState) => {\r\n  const deleteItem = await firebaseConnect.database().ref(`items/${id}`);\r\n  deleteItem\r\n    .remove()\r\n    .then(() => {\r\n      if (getState().items[id].images)\r\n        itemImageDelete(getState().items[id].images);\r\n      NotificationManager.success(\"\", \"Item Deleted\", 2000);\r\n      dispatch({\r\n        type: ITEM_DELETE,\r\n        payload: id,\r\n      });\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n      NotificationManager.error(error.errorMessage, \"Error\", 2000); // need fix delete error\r\n    });\r\n\r\n  history.push(\"/shoppingcart\");\r\n};\r\nexport const itemEdit = (id, formValues) => async (dispatch) => {\r\n  let editItem = firebaseConnect.database().ref(`items/${id}`);\r\n  editItem.update(formValues);\r\n  const response = await firebaseConnect\r\n    .database()\r\n    .ref(`items/${id}`)\r\n    .once(\"value\")\r\n    .then((snapshot) => {\r\n      return snapshot.val();\r\n    });\r\n  dispatch({\r\n    type: ITEM_EDIT,\r\n    payload: response,\r\n  });\r\n  history.push(\"/shoppingcart\");\r\n};\r\nexport const firebaseCartClean = () => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  if (userId) {\r\n    await firebaseConnect.database().ref(`/cart/Cart-${userId}`).remove();\r\n  }\r\n};\r\nexport const transactionSuccess = (details, data) => (dispatch) => {\r\n  history.push(\"/shoppingcart\");\r\n  NotificationManager.success(\r\n    \"Transaction Finished\",\r\n    `Thank You ${details.payer.name.given_name}`,\r\n    3000\r\n  );\r\n  dispatch(cartClean());\r\n  dispatch(firebaseCartClean());\r\n};\r\nexport const itemSorted = (name, value) => (dispatch, getState) => {\r\n  //sortedItems is an array sent to reducer, reducer will convert to Object\r\n\r\n  let sortedItems = [];\r\n  let originalItems = getState().items;\r\n  switch (name) {\r\n    //sort by name\r\n    case \"name\":\r\n      if (value === \"0\") {\r\n        //sort from a to z\r\n        sortedItems = _.sortBy(Object.values(originalItems), [\r\n          function (o) {\r\n            return o.name;\r\n          },\r\n        ]);\r\n      } else {\r\n        //sort from z to a\r\n        sortedItems = _.sortBy(Object.values(originalItems), [\r\n          function (o) {\r\n            return o.name;\r\n          },\r\n        ]).reverse();\r\n      }\r\n      break;\r\n\r\n    //end sort by name\r\n    case \"price\":\r\n      if (value === \"0\") {\r\n        //sort from low price to hight price\r\n        sortedItems = Object.values(originalItems).sort(\r\n          (a, b) => a.price - b.price\r\n        );\r\n      } else {\r\n        //sort from high to low price\r\n        sortedItems = Object.values(originalItems)\r\n          .sort((a, b) => a.price - b.price)\r\n          .reverse();\r\n      }\r\n      break;\r\n    case \"time\":\r\n      if (value === \"0\") {\r\n        //sort from old to new\r\n        sortedItems = Object.values(originalItems).sort((a, b) => {\r\n          return a.createdTime - b.createdTime;\r\n        });\r\n      } else {\r\n        //sort from new to old\r\n        sortedItems = Object.values(originalItems)\r\n          .sort((a, b) => {\r\n            return a.createdTime - b.createdTime;\r\n          })\r\n          .reverse();\r\n      }\r\n      break;\r\n    // case \"searchByName\":\r\n    //   sortedItems = Object.values(originalItems).filter(e =>\r\n    //     e.name.match(value)\r\n    //   );\r\n    //   console.log(sortedItems.length === 0);\r\n    //   if (sortedItems.length === 0) {\r\n    //     console.log(\"no item\");\r\n    //     NotificationManager.warning(\"\", \"No Item Was found!\", 3000);\r\n    //     dispatch(itemsFetch());\r\n    //   }\r\n\r\n    //   break;\r\n    default:\r\n  }\r\n  dispatch({\r\n    type: ITEM_SORTED,\r\n    payload: sortedItems,\r\n  });\r\n};\r\n","export const SIGN_IN = \"SIGN_IN\";\r\nexport const SIGN_OUT = \"SIGN_OUT\";\r\nexport const ITEM_CREATE = \"ITEM_CREATE\";\r\nexport const ITEM_EDIT = \"ITEM_EDIT\";\r\nexport const ITEMS_FETCH = \"ITEMS_FETCH\";\r\nexport const ITEM_FETCH = \"ITEM_FETCH\";\r\nexport const ITEM_DELETE = \"ITEM_DELETE\";\r\nexport const ITEM_SORTED = \"ITEM_SORTED\";\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { itemSorted } from \"../actions/\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { itemSearch } from \"../actions/filterActions\";\r\nexport class SortAndFilter extends Component {\r\n  renderSelecter = ({ name, input, label, option }) => {\r\n    return (\r\n      <div className=\"ui four column form noPadding\">\r\n        {/* Sort Dropdown */}\r\n\r\n        <select {...input} onChange={this.handleChange} className=\"ui dropdown\">\r\n          <option value=\"-1\" defaultValue>\r\n            {label}\r\n          </option>\r\n          {option.map((e, index) => {\r\n            return (\r\n              <option value={index} key={index}>\r\n                {e}\r\n              </option>\r\n            );\r\n            // value = 0 => low to high and old to new\r\n            // value = 1 => high to old and new to old\r\n          })}\r\n        </select>\r\n        {/* End Sort  Dropdown */}\r\n      </div>\r\n    );\r\n  };\r\n  handleChange = (e) => {\r\n    if (e.target) {\r\n      this.props.itemSorted(e.target.name, e.target.value);\r\n    }\r\n  };\r\n\r\n  handleOnSearch = (formValues) => {\r\n    this.props.itemSearch(formValues.search);\r\n  };\r\n  renderSearch = ({ input, name }) => {\r\n    return (\r\n      <div className=\"ui  ui four column form noPadding\">\r\n        <form onSubmit={this.props.handleSubmit(this.handleOnSearch)}>\r\n          <div className=\"ui search\">\r\n            <div className=\"ui icon input\">\r\n              <input type=\"text\" placeholder=\"Search...\" {...input}></input>\r\n\r\n              <i className=\"search icon\"></i>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  };\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"ui grid container myFilterContainer\"\r\n        style={{ marginTop: \"10px\", marginBottom: \"10px\" }}\r\n      >\r\n        <div\r\n          className=\"four column row \"\r\n          style={{\r\n            backgroundColor: \"rgba(208, 214, 214, 0.514)\",\r\n            borderRadius: \"5px\",\r\n          }}\r\n        >\r\n          <Field\r\n            name=\"search\"\r\n            component={this.renderSearch}\r\n            initialValues={{ search: \"hello\" }}\r\n          ></Field>\r\n\r\n          <Field\r\n            name=\"price\"\r\n            label=\"Price\"\r\n            component={this.renderSelecter}\r\n            option={[\"Low To High\", \"High To Low\"]}\r\n          ></Field>\r\n\r\n          <Field\r\n            name=\"time\"\r\n            label=\"Time\"\r\n            component={this.renderSelecter}\r\n            option={[\"Old To New\", \"New To Old\"]}\r\n          ></Field>\r\n\r\n          <Field\r\n            name=\"name\"\r\n            label=\"Name\"\r\n            component={this.renderSelecter}\r\n            option={[\"A-Z\", \"Z-A\"]}\r\n          ></Field>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    items: state.items,\r\n  };\r\n};\r\nconst wrapper = connect(mapStateToProps, { itemSorted, itemSearch })(\r\n  SortAndFilter\r\n);\r\nexport default reduxForm({\r\n  form: \"SortAndFilterForm\",\r\n})(wrapper);\r\n","export const itemSearch = (searchKey) => (dispatch) => {\r\n  if (searchKey === undefined)\r\n    dispatch({ type: \"ITEMSEARCH\", payload: { isSearching: false } });\r\n  else\r\n    dispatch({\r\n      type: \"ITEMSEARCH\",\r\n      payload: { searchKey: searchKey, isSearching: true },\r\n    });\r\n};\r\n","import React from \"react\";\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className=\"ui active active dimmer\">\r\n      <div className=\"ui large text loader\">Loading ...</div>\r\n    </div>\r\n  );\r\n};\r\nexport default Loading;\r\n","export const shortString = function (str, num) {\r\n  if (str.length <= num) return str;\r\n  return str.slice(0, num) + \"...\";\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { itemsFetch, signInAsAnonymous } from \"../actions\";\r\nimport { cartAdd } from \"../actions/cartActions\";\r\nimport SortAndFilter from \"./SortAndFilter\";\r\nimport Loading from \"./Loading\";\r\n\r\nimport { shortString } from \"./Utility\";\r\nimport history from \"../history\";\r\nimport \"../css/ItemList.css\";\r\n\r\nexport class ItemList extends Component {\r\n  componentDidMount() {\r\n    this.props.itemsFetch();\r\n  }\r\n  renderAdmin = (item) => {\r\n    if (item.userId === this.props.currentUserId)\r\n      return (\r\n        <div>\r\n          <hr></hr>\r\n          <div className=\"ui large two buttons\">\r\n            <Link\r\n              to={`/shoppingcart/items/delete/${item.id}`}\r\n              className=\"ui inverted red button \"\r\n              // style={{ whiteSpace: \"nowrap\" }}\r\n            >\r\n              <i className=\"icon trash alternate\" />\r\n              Delete\r\n            </Link>\r\n            <div className=\"or\"></div>\r\n            <Link\r\n              to={`/shoppingcart/items/edit/${item.id}`}\r\n              className=\"ui inverted blue button \"\r\n            >\r\n              <i className=\"edit icon\"></i>Edit\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      );\r\n  };\r\n  addToCartHandler = (item) => {\r\n    if (this.props.isSignedIn) this.props.cartAdd(item);\r\n    else history.push(\"/shoppingcart/loginprompt\");\r\n  };\r\n  // shortString = (str, num) => {\r\n  //   if (str.length <= num) return str;\r\n  //   return str.slice(0, num) + \"...\";\r\n  // };\r\n\r\n  renderList = (items) => {\r\n    if (items.length === 0) {\r\n      return <h1>Sorry, We don't have the Item you need !!!</h1>;\r\n    } else\r\n      return items.map((item) => {\r\n        return (\r\n          <div className=\"card  \" key={item.id}>\r\n            <div\r\n              // className=\"blurring dimmable image \"\r\n              className=\"myImageContainer\"\r\n              style={{ backgroundColor: \"white\" }}\r\n            >\r\n              <Link to={`/shoppingcart/item/view/${item.id}`}>\r\n                <img\r\n                  className=\"imageCartList  myImageCardList\"\r\n                  src={\r\n                    !item.images\r\n                      ? \"https://firebasestorage.googleapis.com/v0/b/shoppingcart-f5bc6.appspot.com/o/donut.jpg?alt=media&token=dae66b8a-f9dd-451b-b13d-3ff658e6dd28\"\r\n                      : item.images\r\n                  }\r\n                  alt=\"hinh\"\r\n                ></img>\r\n              </Link>\r\n              <button\r\n                className=\"ui button primary myAddButton\"\r\n                onClick={() => this.addToCartHandler(item)}\r\n              >\r\n                <i className=\"shopping cart icon\"></i>\r\n                Add\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"content\">\r\n              {/* <div className=\" ui buttons right floated\"> */}\r\n\r\n              {/* </div> */}\r\n              <div className=\"header myItemName\">\r\n                <Link to={`/shoppingcart/item/view/${item.id}`}>\r\n                  {shortString(item.name, 50)}\r\n                </Link>\r\n              </div>\r\n              <div className=\"meta\">\r\n                <p className=\"myPrice\">${item.price}</p>\r\n              </div>\r\n\r\n              <div className=\"extra content\">{this.renderAdmin(item)}</div>\r\n            </div>\r\n          </div>\r\n\r\n          // <div key={item.id} className=\"item\">\r\n          //   {item.name}/${item.price}\r\n          //   <div className=\" ui buttons right floated\">\r\n          //     {this.renderAdmin(item)}\r\n          //     <button\r\n          //       className=\"ui button primary\"\r\n          //       onClick={() => this.props.cartAdd(item)}\r\n          //     >\r\n          //       <i className=\"shopping cart icon\"></i>\r\n          //       Add to cart\r\n          //     </button>\r\n          //   </div>\r\n          // </div>\r\n        );\r\n      });\r\n  };\r\n  myFilter = (items) => {\r\n    if (this.props.isSearching) {\r\n      return items.filter((item) => {\r\n        return item.name\r\n          .toLowerCase()\r\n          .includes(this.props.searchKey.toLowerCase());\r\n      });\r\n    } else return items;\r\n  };\r\n  render() {\r\n    if (Object.keys(this.props.items).length === 0) {\r\n      return <Loading />;\r\n    } else {\r\n      return (\r\n        <div className=\"ui fluid container \">\r\n          <SortAndFilter\r\n            initialValues={{ search: this.props.searchKey }}\r\n          ></SortAndFilter>\r\n          <div className=\"ui special cards centered\">\r\n            {this.renderList(this.myFilter(Object.values(this.props.items)))}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    items: state.items,\r\n    searchform: state.form.SortAndFilterForm,\r\n    currentUserId: state.auth.userId,\r\n    isSignedIn: state.auth.isSignedIn,\r\n    isSearching: state.filter.isSearching,\r\n    searchKey: state.filter.searchKey,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, {\r\n  itemsFetch,\r\n  cartAdd,\r\n  signInAsAnonymous,\r\n})(ItemList);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { signInAsAnonymous } from \"../actions\";\r\nimport { Link } from \"react-router-dom\";\r\nexport class RenderButtonLoginAsGuestUser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n  render() {\r\n    if (!this.props.isSignedIn)\r\n      //not login\r\n      return (\r\n        <button\r\n          onClick={this.props.signInAsAnonymous}\r\n          className=\"ui teal google button my-google-login\"\r\n        >\r\n          <i\r\n            className=\"user secret icon\"\r\n            style={{ fontSize: \"25px\", color: \"red\" }}\r\n          ></i>\r\n          Anonymous Login\r\n        </button>\r\n      );\r\n    else if (this.props.isAnonymous) {\r\n      //logined as guest\r\n      return (\r\n        <Link\r\n          to=\"/shoppingcart/login/\"\r\n          className=\"ui blue google button my-google-login\"\r\n        >\r\n          <i className=\"user secret icon\"></i>Upgrade to permanent user\r\n        </Link>\r\n      );\r\n    }\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isSignedIn: state.auth.isSignedIn,\r\n    isAnonymous: state.auth.isAnonymous,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { signInAsAnonymous })(\r\n  RenderButtonLoginAsGuestUser\r\n);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport RenderButtonLoginAsGuestUser from \"./RenderButtonLoginAsGuestUser\";\r\nclass LoginRequiteBanner extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"ui container\">\r\n        <div className=\"ui one column grid\">\r\n          <div className=\"column\">\r\n            <div className=\"ui raised segment\">\r\n              <p className=\"ui red ribbon label\">{this.props.banner}</p>\r\n              <p></p>\r\n              <div>\r\n                Please{\" \"}\r\n                {\r\n                  <Link className=\"ui teal button\" to=\"/shoppingcart/login\">\r\n                    Login\r\n                  </Link>\r\n                }\r\n                {this.props.content}\r\n                <RenderButtonLoginAsGuestUser />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null)(LoginRequiteBanner);\r\n","import React, { Component } from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { firebaseConnect } from \"../apis/firebaseShoppingCart\";\r\nimport { NotificationManager } from \"react-notifications\";\r\n// import axios from \"axios\";\r\nclass ItemForm extends Component {\r\n  state = {\r\n    selectedFile: null,\r\n    imageLink: null,\r\n    uploadPercent: 0,\r\n    imageName: null,\r\n  };\r\n  componentDidMount = () => {\r\n    if (this.props.initialValues)\r\n      this.setState({ imageLink: this.props.initialValues.images });\r\n  };\r\n  renderInput = ({ input, meta, label, type }) => {\r\n    const confirmError = meta.error && meta.touched;\r\n    const errorClassName = `field ${confirmError ? `error` : ``}`;\r\n\r\n    return (\r\n      <div className={errorClassName}>\r\n        <label>\r\n          {label} :{`${confirmError ? \"Requited\" : \"\"}`}\r\n        </label>\r\n        <input {...input} type={type} placeholder={label} />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderPreImage = () => {\r\n    if (this.props.initialValues) {\r\n      return (\r\n        <div>\r\n          <img\r\n            className=\"ui medium centered rounded image \"\r\n            src={this.props.initialValues.images}\r\n            alt=\"Item\"\r\n          ></img>\r\n          <p> Click Choose File to update new image :</p>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n  renderImageInput = ({ input, meta, label, uploadPercent }) => {\r\n    return (\r\n      <div className=\"field\">\r\n        <label>{label} :</label>\r\n        {this.renderPreImage()}\r\n\r\n        <div>\r\n          <input type=\"file\" onChange={this.fileSelectedHandler}></input>\r\n\r\n          <div\r\n            onClick={this.fileUploadHandler}\r\n            className=\"ui labeled button\"\r\n            tabIndex=\"0\"\r\n          >\r\n            <div id=\"uploadButton\" className=\"ui button  \">\r\n              <i className=\"upload icon \"></i> Upload\r\n            </div>\r\n            <p className=\"ui basic label\">\r\n              {parseFloat(uploadPercent).toFixed(2)}%\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  convertImage = (item) => {\r\n    var resize_width = 600;\r\n    var reader = new FileReader();\r\n\r\n    //image turned to base64-encoded Data URI.\r\n    reader.readAsDataURL(item);\r\n    reader.name = item.name; //get the image's name\r\n    reader.size = item.size; //get the image's size\r\n    reader.onload = (event) => {\r\n      var img = new Image(); //create a image\r\n      img.src = event.target.result; //result is base64-encoded Data URI\r\n      img.name = event.target.name; //set name (optional)\r\n      img.size = event.target.size; //set size (optional)\r\n      img.onload = async (el) => {\r\n        var elem = document.createElement(\"canvas\"); //create a canvas\r\n\r\n        //scale the image to 600 (width) and keep aspect ratio\r\n        var scaleFactor = resize_width / el.target.width;\r\n        elem.width = resize_width;\r\n        elem.height = el.target.height * scaleFactor;\r\n\r\n        //draw in canvas\r\n        var ctx = elem.getContext(\"2d\");\r\n        ctx.drawImage(el.target, 0, 0, elem.width, elem.height);\r\n\r\n        //get the base64-encoded Data URI from the resize image\r\n        var srcEncoded = ctx.canvas.toDataURL(el.target, \"image/jpeg\", 0);\r\n        //convert uri to image\r\n        var binary = atob(srcEncoded.split(\",\")[1]);\r\n        var array = [];\r\n        for (var i = 0; i < binary.length; i++) {\r\n          array.push(binary.charCodeAt(i));\r\n        }\r\n        this.setState({\r\n          selectedFile: new Blob([new Uint8Array(array)], {\r\n            type: \"image/jpeg\",\r\n          }),\r\n        });\r\n      };\r\n    };\r\n  };\r\n\r\n  fileSelectedHandler = (event) => {\r\n    if (event.target.files.length > 0) {\r\n      this.setState({ imageName: event.target.files[0].name });\r\n      this.convertImage(event.target.files[0]);\r\n      NotificationManager.success(\r\n        ` ${parseFloat(event.target.files[0].size / 1024 / 1024).toFixed(\r\n          2\r\n        )} MB `,\r\n        \"Converting Your Image\",\r\n        2000\r\n      );\r\n      document.getElementById(\"submitButton\").disabled = true; //disable submit button , wait for click upload\r\n      document.getElementById(\"uploadButton\").classList.add(\"green\");\r\n    }\r\n  };\r\n  fileUploadHandler = (event) => {\r\n    var randomImagePrefix = Math.floor(Math.random() * Math.floor(1000)); //to fix same image name\r\n\r\n    event.preventDefault();\r\n    var filename = this.state.imageName; //get file name\r\n    var storageRef = firebaseConnect\r\n      .storage()\r\n      .ref(`/images/` + randomImagePrefix + filename); //upload to image folder\r\n    var uploadTask = storageRef.put(this.state.selectedFile);\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      (snapshot) => {\r\n        //run during upload proccess\r\n        this.setState({\r\n          uploadPercent:\r\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100,\r\n        });\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n      },\r\n      () => {\r\n        uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n          // arrow function to use this.setState\r\n          this.setState({ imageLink: downloadURL });\r\n          document.getElementById(\"submitButton\").disabled = false;\r\n        });\r\n      }\r\n    );\r\n  };\r\n\r\n  onSubmit = (formValue) => {\r\n    //get time created of item\r\n    var date = new Date();\r\n    formValue.createdTime = date.getTime();\r\n    formValue.images = this.state.imageLink;\r\n    formValue.price = parseFloat(formValue.price);\r\n    this.props.onSubmit(formValue);\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"ui  container segment\">\r\n        <form\r\n          onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n          className=\"ui form error\"\r\n        >\r\n          <Field name=\"name\" component={this.renderInput} label=\"Name\" />\r\n          <Field\r\n            name=\"price\"\r\n            component={this.renderInput}\r\n            label=\"Price\"\r\n            type=\"number\"\r\n          />\r\n\r\n          {/* Upload item pictures */}\r\n          <Field\r\n            name=\"images\"\r\n            component={this.renderImageInput}\r\n            label=\"Images\"\r\n            uploadPercent={this.state.uploadPercent}\r\n          />\r\n\r\n          <button id=\"submitButton\" className=\"ui green approve right button\">\r\n            Submit\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValue) => {\r\n  const error = {};\r\n  if (!formValue.name) error.name = \"Requite Value!\";\r\n  if (!formValue.price) error.price = \"Requite Value!\";\r\n\r\n  return error;\r\n};\r\n\r\nexport default reduxForm({\r\n  form: \"ItemForm\",\r\n  validate,\r\n})(ItemForm);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n// import { Link } from \"react-router-dom\";\r\n\r\nimport LoginRequiteBanner from \"./LoginRequiteBanner\";\r\nimport { itemCreate } from \"../actions\";\r\nimport ItemForm from \"./ItemForm\";\r\n\r\nclass ItemNew extends Component {\r\n  onSubmit = formValue => {\r\n    this.props.itemCreate(formValue);\r\n  };\r\n\r\n  render() {\r\n    if (this.props.isSignedIn && !this.props.isAnonymous)\r\n      return <ItemForm onSubmit={this.onSubmit}></ItemForm>;\r\n    else if (this.props.isAnonymous)\r\n      return (\r\n        <LoginRequiteBanner\r\n          banner=\"Please Login\"\r\n          content={`You Are Shopping As Guest User!\r\n        Please Login To Have Better Service.`}\r\n        ></LoginRequiteBanner>\r\n      );\r\n    else {\r\n      return (\r\n        <LoginRequiteBanner\r\n          banner=\"Please Login\"\r\n          content=\"To Start Selling\"\r\n        ></LoginRequiteBanner>\r\n      );\r\n    }\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isSignedIn: state.auth.isSignedIn,\r\n    isAnonymous: state.auth.isAnonymous\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { itemCreate })(ItemNew);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\n\r\nimport ItemForm from \"./ItemForm\";\r\n\r\nimport { itemFetch, itemEdit, itemImageDelete } from \"../actions\";\r\nclass ItemEdit extends Component {\r\n  componentDidMount() {\r\n    this.props.itemFetch(this.props.match.params.id);\r\n\r\n    //fix createdTime of item\r\n    // Object.values(this.props.items).map(item => {\r\n    //   if (!item.createdTime) {\r\n    //     var date = new Date();\r\n    //     var TimeInMiliSecond = date.getTime();\r\n    //     var newItem = { ...item, createdTime: TimeInMiliSecond };\r\n    //     this.props.itemEdit(newItem.id, newItem);\r\n    //     console.log(\"edited\");\r\n    //   }\r\n    // });\r\n\r\n    // add createdTime to Database\r\n    // Object.values(this.props.items).map(item => {\r\n    //   var date = new Date();\r\n    //   var TimeInMiliSecond = date.getTime();\r\n    //   var newItem = { ...item, createdTime: TimeInMiliSecond };\r\n    //   this.props.itemEdit(newItem.id, newItem);\r\n    //   console.log(\"edited\");\r\n    // });\r\n  }\r\n\r\n  id = this.props.match.params.id;\r\n\r\n  onSubmit = (formValues) => {\r\n    if (formValues.images !== this.props.item.images)\r\n      this.props.itemImageDelete(this.props.item.images);\r\n    this.props.itemEdit(this.id, formValues);\r\n  };\r\n  render() {\r\n    if (this.props.item)\r\n      return (\r\n        <ItemForm\r\n          onSubmit={this.onSubmit}\r\n          initialValues={_.pick(this.props.item, \"name\", \"price\", \"images\")}\r\n        ></ItemForm>\r\n      );\r\n    else return \"loading\";\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    item: state.items[ownProps.match.params.id],\r\n    items: state.items,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, {\r\n  itemFetch,\r\n  itemEdit,\r\n  itemImageDelete,\r\n})(ItemEdit);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport history from \"../history\";\r\nconst Modal = (props) => {\r\n  return ReactDOM.createPortal(\r\n    <div\r\n      onClick={() => history.goBack()}\r\n      // onClick={() => history.push(\"/shoppingcart\")}\r\n      className=\"ui dimmer modals visible active\"\r\n    >\r\n      <div\r\n        onClick={(e) => e.stopPropagation()}\r\n        className=\"ui standard modal visible active\"\r\n      >\r\n        <div className=\"header\">{props.header}</div>\r\n        <div className=\"content\"> {props.content}</div>\r\n        <div className=\"actions\">{props.actions}</div>\r\n      </div>\r\n    </div>,\r\n    document.querySelector(\"#modal\")\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\r\nimport Modal from \"./Modal\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { itemFetch, itemDelete } from \"../actions\";\r\nclass ItemDelete extends Component {\r\n  componentDidMount() {\r\n    this.props.itemFetch(this.props.match.params.id);\r\n  }\r\n  actions = () => {\r\n    return (\r\n      <React.Fragment>\r\n        <Link to=\"/shoppingcart\" className=\"ui button\">\r\n          Cancel\r\n        </Link>\r\n        <button\r\n          className=\"ui button primary\"\r\n          onClick={() => this.props.itemDelete(this.props.match.params.id)}\r\n        >\r\n          Delete\r\n        </button>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n  render() {\r\n    //console.log(this.props.item);\r\n    return (\r\n      <div>\r\n        <Modal\r\n          actions={this.actions()}\r\n          header=\"Delete Item\"\r\n          content={`Do you want to delete   ${\r\n            this.props.item ? this.props.item.name : \"\"\r\n          }?`}\r\n        ></Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    item: state.items[ownProps.match.params.id]\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { itemFetch, itemDelete })(ItemDelete);\r\n","import React, { Component } from \"react\";\r\nimport Modal from \"./Modal\";\r\nimport { connect } from \"react-redux\";\r\n// import { Link } from \"react-router-dom\";\r\nimport history from \"../history\";\r\nimport { itemFetch } from \"../actions\";\r\nimport { cartAdd } from \"../actions/cartActions\";\r\nimport Loading from \"./Loading\";\r\nimport \"../css/ItemView.css\";\r\nclass ItemView extends Component {\r\n  componentDidMount() {\r\n    this.props.itemFetch(this.props.match.params.id);\r\n  }\r\n  addToCartHandler = (item) => {\r\n    // this.props.signInAsAnonymous();\r\n    if (this.props.isSignedIn) {\r\n      this.props.cartAdd(item);\r\n      history.goBack();\r\n    } else history.push(\"/shoppingcart/loginprompt\");\r\n  };\r\n\r\n  actions = () => {\r\n    return (\r\n      <React.Fragment>\r\n        <button onClick={() => history.goBack()} className=\"ui button\">\r\n          Cancel\r\n        </button>\r\n        <button\r\n          className=\"ui button primary\"\r\n          onClick={() => this.addToCartHandler(this.props.item)}\r\n        >\r\n          Add To Cart\r\n        </button>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n  renderItemInfo = (item) => {\r\n    return (\r\n      <div className=\"ui grid\">\r\n        <div className=\"six wide column\">\r\n          <img\r\n            className=\"ui large image\"\r\n            src={item.images}\r\n            alt={item.name + \"photo\"}\r\n          ></img>\r\n        </div>\r\n        <div className=\"ten wide column\">\r\n          <p className=\"myItemViewPrice\">$ {item.price}</p> & FREE Shipping\r\n          <h2 style={{ margin: 0 }}>Product Information</h2>\r\n          <p className=\"myItemInfo\">\r\n            Lorem ipsum, dolor sit amet consectetur adipisicing elit. Nihil\r\n            expedita dolores, debitis animi sequi ullam blanditiis. Et tenetur,\r\n            temporibus beatae dolores illo accusantium excepturi recusandae\r\n            rerum laborum necessitatibus deserunt.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  render() {\r\n    //console.log(this.props.item);\r\n\r\n    if (this.props.item) {\r\n      const item = this.props.item;\r\n\r\n      return (\r\n        <div>\r\n          <Modal\r\n            actions={this.actions()}\r\n            header={item.name}\r\n            content={this.renderItemInfo(item)}\r\n          ></Modal>\r\n        </div>\r\n      );\r\n    } else return <Loading />;\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    item: state.items[ownProps.match.params.id],\r\n    isSignedIn: state.auth.isSignedIn,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, {\r\n  itemFetch,\r\n  cartAdd,\r\n})(ItemView);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { firebaseConnect } from \"../apis/firebaseShoppingCart\";\r\nimport { cartFetch } from \"../actions/cartActions\";\r\nimport { signIn, signOut } from \"../actions/\";\r\nimport thanh_logo from \"../images/thanh_logo.jpg\";\r\nimport \"../css/Header.css\";\r\nclass Header extends React.Component {\r\n  componentDidMount = async () => {\r\n    firebaseConnect.analytics();\r\n    await firebaseConnect.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.props.signIn(user.uid, user.isAnonymous);\r\n        this.props.cartFetch();\r\n      }\r\n    });\r\n  };\r\n  renderCartBadge = () => {\r\n    let number = \"0\";\r\n\r\n    if (this.props.cart) number = Object.values(this.props.cart).length;\r\n    return (\r\n      <div>\r\n        Cart <i className=\" icon shopping cart\" />\r\n        <span className=\"badge\">{` ( ${number})`}</span>\r\n      </div>\r\n    );\r\n  };\r\n  renderAuthButton = () => {\r\n    if (this.props.isSignedIn && !this.props.isAnonymous)\r\n      return (\r\n        <Link to=\"/shoppingcart\" onClick={this.props.signOut} className=\"item \">\r\n          Logout\r\n        </Link>\r\n      );\r\n    else\r\n      return (\r\n        //test logout\r\n        // <div>\r\n        //   <Link to=\"/shoppingcart/login/\" className=\"item\">\r\n        //     Login\r\n        //   </Link>\r\n        //   <Link\r\n        //     to=\"/shoppingcart\"\r\n        //     onClick={this.props.signOut}\r\n        //     className=\"item \"\r\n        //   >\r\n        //     Logout\r\n        //   </Link>\r\n        // </div>\r\n\r\n        <Link to=\"/shoppingcart/login/\" className=\"item\">\r\n          Login\r\n        </Link>\r\n      );\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"myNavBar\">\r\n        <div className=\"ui teal four item inverted menu myNavBarLink\">\r\n          <Link to=\"/shoppingcart/\" className=\" item\">\r\n            <img\r\n              src={thanh_logo}\r\n              alt=\"thanh_logo\"\r\n              className=\"  thanhLogo\"\r\n            ></img>\r\n            Home\r\n          </Link>\r\n          <Link to=\"/shoppingcart/items/new\" className=\"item\">\r\n            Create Item\r\n          </Link>\r\n          <Link id=\"cart\" to=\"/shoppingcart/cart/view\" className=\"item\">\r\n            {this.renderCartBadge()}\r\n          </Link>\r\n          {this.renderAuthButton()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    cart: state.cart,\r\n    isSignedIn: state.auth.isSignedIn,\r\n    isAnonymous: state.auth.isAnonymous,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { cartFetch, signIn, signOut })(Header);\r\n","import React, { Component } from \"react\";\r\nimport { firebaseConnect } from \"../apis/firebaseShoppingCart\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n// import firebaseui from \"firebaseui\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"../css/auth.css\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { connect } from \"react-redux\";\r\nimport { signIn, signOut } from \"../actions\";\r\nimport { NotificationManager } from \"react-notifications\";\r\n\r\nimport history from \"../history\";\r\n// import GoogleAuth from \"./GoogleAuth\";\r\n\r\nclass Auth extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: \"\",\r\n      showVerifyPassword: false,\r\n    };\r\n  }\r\n\r\n  renderInput = ({ input, meta, label, type }) => {\r\n    const confirmError = meta.error && meta.touched;\r\n    const errorClassName = `field textbox ${confirmError ? `error` : ``}`;\r\n    return (\r\n      <div className={errorClassName}>\r\n        <label>\r\n          {label}\r\n          {`${confirmError ? meta.error : \"\"}`}\r\n        </label>\r\n        <input {...input} type={type} autoComplete={input.name} />\r\n      </div>\r\n    );\r\n  };\r\n  onSubmit = (formValue) => {\r\n    //--------Log In--------\r\n    if (!this.state.showVerifyPassword) {\r\n      //Login\r\n      firebaseConnect\r\n        .auth()\r\n        .signInWithEmailAndPassword(formValue.email, formValue.password)\r\n        .then((result) => {\r\n          this.setState({ error: \"Login Success\" });\r\n\r\n          // this.props.signIn(result.user.uid, result.isAnonymous);\r\n          history.push(\"/shoppingcart\");\r\n        })\r\n        .catch((error) => {\r\n          // Handle Errors here.\r\n          var errorCode = error.code;\r\n          this.setState({ error: errorCode });\r\n        });\r\n    }\r\n    //--------Sign Up--------\r\n    else {\r\n      if (this.props.isSignedIn && this.props.isAnonymous) {\r\n        //merge anonymous user and new user\r\n        var credential = firebaseConnect.auth.EmailAuthProvider.credential(\r\n          formValue.email,\r\n          formValue.password\r\n        );\r\n        // console.log(credential);\r\n        firebaseConnect\r\n          .auth()\r\n          .currentUser.linkWithCredential(credential)\r\n          .then(\r\n            function (usercred) {\r\n              NotificationManager.success(\r\n                `Anonymous account successfully upgraded `,\r\n                \"Successful!\",\r\n                2000\r\n              );\r\n              history.push(\"/shoppingcart\");\r\n              // console.log(\"Anonymous account successfully upgraded\");\r\n            },\r\n            function (error) {\r\n              NotificationManager.error(error.message, \"Error!\", 2000);\r\n              // console.log(\"Error upgrading anonymous account\", );\r\n            }\r\n          );\r\n      } else {\r\n        //Create User\r\n        firebaseConnect\r\n          .auth()\r\n          .createUserWithEmailAndPassword(formValue.email, formValue.password)\r\n          .then((result) => {\r\n            // this.props.signIn(result.user.uid, result.isAnonymous);\r\n            history.push(`/shoppingcart`);\r\n          })\r\n          .catch((error) => {\r\n            //Handle Erros here\r\n            var errorCode = error.code;\r\n            this.setState({ error: errorCode });\r\n          });\r\n      }\r\n      //notificateModal\r\n    }\r\n  };\r\n  renderErrorFromServer = () => {\r\n    // console.log(this.state.error);\r\n    switch (this.state.error) {\r\n      case \"auth/user-not-found\":\r\n      case \"auth/wrong-password\":\r\n        return <div>Wrong User or Password</div>;\r\n      default:\r\n        return <div>{this.state.error}</div>;\r\n    }\r\n  };\r\n  googleLogin = () => {\r\n    var provider = new firebase.auth.GoogleAuthProvider();\r\n    firebaseConnect\r\n      .auth()\r\n      .signInWithPopup(provider)\r\n      .then(function (result) {\r\n        console.log(result);\r\n        // This gives you a Google Access Token. You can use it to access the Google API.\r\n        // var token = result.credential.accessToken;\r\n        // // The signed-in user info.\r\n        // var user = result.user;\r\n        // ...\r\n\r\n        history.push(\"/shoppingcart\");\r\n      })\r\n      .catch(function (error) {\r\n        // Handle Errors here.\r\n        // var errorCode = error.code;\r\n        // var errorMessage = error.message;\r\n        // // The email of the user's account used.\r\n        // var email = error.email;\r\n        // // The firebase.auth.AuthCredential type that was used.\r\n        // var credential = error.credential;\r\n        // ...\r\n        NotificationManager.error(error.message, \"Error!\", 2000);\r\n      });\r\n  };\r\n\r\n  renderVerifyPassword = () => {\r\n    if (this.state.showVerifyPassword) {\r\n      return (\r\n        <Field\r\n          type=\"password\"\r\n          name=\"verifyPassword\"\r\n          label=\"Verify Password\"\r\n          component={this.renderInput}\r\n        ></Field>\r\n      );\r\n    }\r\n  };\r\n  renderForgetPassword = () => {\r\n    if (!this.state.showVerifyPassword) {\r\n      return (\r\n        <Link\r\n          to=\"/shoppingcart/forgotpassword\"\r\n          className=\"my_forgot_password_text\"\r\n        >\r\n          Forgot Your Password\r\n        </Link>\r\n      );\r\n    }\r\n  };\r\n  SignInSignUpSwitch = (value) => {\r\n    this.setState({ showVerifyPassword: value });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"ui  container \">\r\n        <div className=\"login-container\">\r\n          <div className=\"login-box\">\r\n            <div className=\"ui equal width center aligned padded grid\">\r\n              <div className=\"row\">\r\n                <div\r\n                  className=\" green column\"\r\n                  onClick={() => this.SignInSignUpSwitch(false)}\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  Log in\r\n                </div>\r\n                <div\r\n                  className=\"blue column\"\r\n                  onClick={() => this.SignInSignUpSwitch(true)}\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  Sign Up\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <form\r\n              onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n              className=\"ui form error\"\r\n            >\r\n              <Field\r\n                name=\"email\"\r\n                label=\"Email\"\r\n                component={this.renderInput}\r\n              ></Field>\r\n              <Field\r\n                type=\"password\"\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                component={this.renderInput}\r\n              ></Field>\r\n              {this.renderForgetPassword()}\r\n              {this.renderVerifyPassword()}\r\n              {this.renderErrorFromServer()}\r\n              <button\r\n                type=\"submit\"\r\n                className={`ui approve  button  my-login-button ${\r\n                  this.state.showVerifyPassword ? `blue` : `green`\r\n                }`}\r\n              >\r\n                {this.state.showVerifyPassword ? `Sign Up` : `Log In`}\r\n              </button>\r\n            </form>\r\n          </div>\r\n\r\n          <button\r\n            onClick={this.googleLogin}\r\n            className=\"ui red google button my-google-login\"\r\n          >\r\n            <i className=\"google icon\"></i>Google Login\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst validate = (formValue) => {\r\n  const error = {};\r\n  const mailformat = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\r\n  if (!formValue.email) error.email = \" Requite Value !\";\r\n  else if (!formValue.email.match(mailformat)) error.email = \" Wrong Format !\";\r\n  if (!formValue.password) error.password = \" Requite Value !\";\r\n\r\n  if (formValue.verifyPassword !== formValue.password)\r\n    error.verifyPassword = \" : Wrong Verify Password\";\r\n  if (!formValue.verifyPassword) error.verifyPassword = \" Requite Value !\";\r\n\r\n  return error;\r\n};\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isSignedIn: state.auth.isSignedIn,\r\n    isAnonymous: state.auth.isAnonymous,\r\n  };\r\n};\r\nconst componentWrapup = connect(mapStateToProps, {\r\n  signIn,\r\n  signOut,\r\n})(Auth);\r\n\r\nexport default reduxForm({\r\n  form: \"userForm\",\r\n  validate,\r\n})(componentWrapup);\r\n","import React, { Component } from \"react\";\r\nimport { PayPalButton } from \"react-paypal-button-v2\";\r\nimport { cartClean } from \"../actions/cartActions\";\r\nimport { transactionSuccess } from \"../actions\";\r\nimport { connect } from \"react-redux\";\r\n// import { NotificationManager } from \"react-notifications\";\r\nclass MyPaypalButton extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <PayPalButton\r\n        amount={this.props.price}\r\n        currency=\"USD\"\r\n        // shippingPreference=\"NO_SHIPPING\" // default is \"GET_FROM_FILE\"\r\n        catchError={(err) => {\r\n          console.log(err);\r\n          // NotificationManager.error({}, \"Warning\", 2000);\r\n        }}\r\n        onSuccess={(details, data) => {\r\n          // console.log(\"details: \", details);\r\n          // console.log(\"data: \", data);\r\n          this.props.transactionSuccess(details, data);\r\n          // OPTIONAL: Call your server to save the transaction\r\n          return fetch(\"/paypal-transaction-complete\", {\r\n            method: \"post\",\r\n            body: JSON.stringify({\r\n              orderId: data.orderID,\r\n            }),\r\n          });\r\n        }}\r\n        options={{\r\n          clientId: process.env.REACT_APP_API_PAYPALKEY,\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, { cartClean, transactionSuccess })(MyPaypalButton);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n// import { Link } from \"react-router-dom\";//import { Link } from \"react-router-dom\";\r\nimport { cartRemove, cartFetch } from \"../actions/cartActions\";\r\nimport MyPaypalButton from \"./MyPaypalButton\";\r\nimport LoginRequiteBanner from \"./LoginRequiteBanner\";\r\nimport \"../css/CartView.css\";\r\nimport { shortString } from \"./Utility\";\r\nexport class CartView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.cartFetch();\r\n  }\r\n  renderList = (items) => {\r\n    return items.map((item) => {\r\n      return (\r\n        <div key={item.id} className=\"three column row itemContainerCart\">\r\n          <div className=\"four wide column \">\r\n            <img\r\n              className=\"ui tiny image centered\"\r\n              src={\r\n                !item.images\r\n                  ? \"https://firebasestorage.googleapis.com/v0/b/shoppingcart-f5bc6.appspot.com/o/donut.jpg?alt=media&token=dae66b8a-f9dd-451b-b13d-3ff658e6dd28\"\r\n                  : item.images\r\n              }\r\n              alt={item.name}\r\n            ></img>\r\n          </div>\r\n          <div className=\"eight wide column \">\r\n            <span className=\"myItemNameCart \">\r\n              {shortString(item.name, 55)}\r\n            </span>\r\n          </div>\r\n          <div className=\"four wide column\">\r\n            <div className=\"myCartViewPrice \">/${item.price}</div>\r\n            <button\r\n              onClick={() => this.props.cartRemove(item.id)}\r\n              className=\"ui  mini  button myRemoveButton  \"\r\n            >\r\n              Remove\r\n            </button>\r\n          </div>\r\n          <hr></hr>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  countTotal = (cartItems) => {\r\n    if (cartItems) {\r\n      let totalAmount = 0;\r\n      Object.values(cartItems).map((item) => {\r\n        return (totalAmount += parseFloat(item.price));\r\n      });\r\n      return totalAmount.toFixed(2);\r\n    } else return 0;\r\n  };\r\n  renderWarningPanelForlAnonymoust = () => {\r\n    if (this.props.isAnonymous)\r\n      return (\r\n        <LoginRequiteBanner\r\n          banner=\"Please Login\"\r\n          content={`You Are Shopping As Guest User!\r\n          Please Login To Have Better Service.`}\r\n        ></LoginRequiteBanner>\r\n      );\r\n  };\r\n  renderTotalAndPaypal = (cartItems) => {\r\n    const totalAmount = this.countTotal(cartItems);\r\n    if (totalAmount > 0)\r\n      return (\r\n        <div className=\"ui container totalAmountAndPaypalContainer\">\r\n          <h3>\r\n            Subtotal ({Object.keys(cartItems).length} item):\r\n            <span className=\"myTotalAmount\"> ${totalAmount}</span>\r\n          </h3>\r\n          <div className=\"myPaypalContainer\">\r\n            <MyPaypalButton\r\n              description=\"Paypal Buttons\"\r\n              price={totalAmount}\r\n            ></MyPaypalButton>\r\n          </div>\r\n        </div>\r\n      );\r\n  };\r\n  render() {\r\n    if (this.props.isSignedIn && this.props.cart) {\r\n      if (Object.values(this.props.cart).length > 0) {\r\n        return (\r\n          <div\r\n            className=\"ui container segment\"\r\n            style={{ justifyContent: \"center\" }}\r\n          >\r\n            {this.renderWarningPanelForlAnonymoust()}\r\n            <div className=\"ui grid\">\r\n              {this.renderList(Object.values(this.props.cart))}\r\n            </div>\r\n\r\n            {this.renderTotalAndPaypal(this.props.cart)}\r\n          </div>\r\n        );\r\n      } else\r\n        return (\r\n          <div>\r\n            <h1 style={{ textAlign: \"center\" }}>Your Cart is empty !</h1>\r\n          </div>\r\n        );\r\n    } else {\r\n      return (\r\n        <LoginRequiteBanner\r\n          banner=\"Please Login\"\r\n          content=\"To Start Shopping\"\r\n        ></LoginRequiteBanner>\r\n      );\r\n    }\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    cart: state.cart,\r\n    isSignedIn: state.auth.isSignedIn,\r\n    isAnonymous: state.auth.isAnonymous,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { cartRemove, cartFetch })(CartView);\r\n","import React, { Component } from \"react\";\r\nimport { firebaseConnect } from \"../apis/firebaseShoppingCart\";\r\n\r\nimport LoginRequiteBanner from \"./LoginRequiteBanner\";\r\nexport class ForGotPassword extends Component {\r\n  componentWillMount = () => {};\r\n  content = () => {\r\n    return (\r\n      <div>\r\n        <h2>\r\n          Enter the email address for your account we'll email you a link to\r\n          reset your password.\r\n        </h2>\r\n        <p></p>\r\n        <form className=\"ui form\">\r\n          <div className=\"field\">\r\n            <label>Email address: </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"email\"\r\n              autoComplete=\"off\"\r\n              style={{ width: \"300px\" }}\r\n            ></input>\r\n            <button\r\n              onClick={this.handleSubmit}\r\n              className=\"ui interted teal button \"\r\n              style={{ marginLeft: \"5px\" }}\r\n            >\r\n              Sent Reset Password Email\r\n            </button>\r\n            <h2 id=\"output\"> </h2>\r\n          </div>\r\n        </form>\r\n        <p></p>\r\n      </div>\r\n    );\r\n  };\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    var auth = firebaseConnect.auth();\r\n    var email = document.getElementById(\"email\").value;\r\n    auth\r\n      .sendPasswordResetEmail(email)\r\n      .then(() => {\r\n        //email sent\r\n        console.log(\"email sent\");\r\n        document.getElementById(\"output\").innerHTML = \"Email has been sent!\";\r\n      })\r\n      .catch((error) => {\r\n        //an error happened\r\n        // console.log(error);\r\n        document.getElementById(\"output\").innerHTML = error;\r\n      });\r\n  };\r\n  render() {\r\n    return (\r\n      <LoginRequiteBanner\r\n        banner=\"Forgot your password ? \"\r\n        content={this.content()}\r\n      ></LoginRequiteBanner>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ForGotPassword;\r\n","import React, { Component } from \"react\";\r\nimport Modal from \"./Modal\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport RenderButtonLoginAsGuestUser from \"./RenderButtonLoginAsGuestUser\";\r\nimport { signInAsAnonymous } from \"../actions\";\r\nclass LoginPrompt extends Component {\r\n  componentDidMount() {}\r\n  actions = () => {\r\n    return (\r\n      <div className=\"ui equal width grid\">\r\n        <div className=\"equal width row\">\r\n          <div className=\"column\">\r\n            <button className=\"ui teal google button my-google-login\">\r\n              <i\r\n                className=\"user icon\"\r\n                style={{ fontSize: \"25px\", color: \"green\" }}\r\n              ></i>\r\n              Login\r\n            </button>\r\n          </div>\r\n          <div className=\"column\">\r\n            <RenderButtonLoginAsGuestUser />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  content = () => {\r\n    return <h4 style={{ textAlign: \"center\" }}>Do you want to Login ?</h4>;\r\n  };\r\n  render() {\r\n    //console.log(this.props.item);\r\n    return (\r\n      <div>\r\n        <Modal\r\n          actions={this.actions()}\r\n          header=\"Login Requite: \"\r\n          content={this.content()}\r\n        ></Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n// const mapStateToProps = (state, ownProps) => {\r\n//   return {\r\n//     item: state.items[ownProps.match.params.id],\r\n//   };\r\n// };\r\nexport default connect(null, { signInAsAnonymous })(LoginPrompt);\r\n","import React from \"react\";\r\nimport { Router, Route, Switch } from \"react-router-dom\";\r\n\r\nimport history from \"../history\";\r\nimport ItemList from \"./ItemList\";\r\nimport ItemNew from \"./ItemNew\";\r\nimport ItemEdit from \"./ItemEdit\";\r\nimport ItemDelete from \"./ItemDelete\";\r\nimport ItemView from \"./ItemView\";\r\nimport Header from \"./Header\";\r\nimport Auth from \"./Auth\";\r\nimport CartView from \"./CartView\";\r\nimport ForGotPassword from \"./ForGotPassword\";\r\nimport LoginPrompt from \"./LoginPrompt\";\r\nimport \"react-notifications/lib/notifications.css\";\r\nimport { NotificationContainer } from \"react-notifications\";\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"ui  container fluid\">\r\n        <NotificationContainer />\r\n        <Router history={history}>\r\n          <div>\r\n            <Header />\r\n            <Switch>\r\n              <Route path=\"/shoppingcart/\" exact component={ItemList}></Route>\r\n              <Route\r\n                path=\"/shoppingcart/items/new\"\r\n                exact\r\n                component={ItemNew}\r\n              ></Route>\r\n              <Route\r\n                path=\"/shoppingcart/items/edit/:id\"\r\n                exact\r\n                component={ItemEdit}\r\n              ></Route>\r\n              <Route\r\n                path=\"/shoppingcart/items/delete/:id\"\r\n                exact\r\n                component={ItemDelete}\r\n              ></Route>\r\n              <Route\r\n                path=\"/shoppingcart/item/view/:id\"\r\n                exact\r\n                component={ItemView}\r\n              ></Route>\r\n              <Route\r\n                path=\"/shoppingcart/loginprompt\"\r\n                exact\r\n                component={LoginPrompt}\r\n              ></Route>\r\n              <Route\r\n                path=\"/shoppingcart/cart/view\"\r\n                exact\r\n                component={CartView}\r\n              ></Route>\r\n              <Route path=\"/shoppingcart/login\" exact component={Auth}></Route>\r\n              <Route\r\n                path=\"/shoppingcart/forgotpassword\"\r\n                exact\r\n                component={ForGotPassword}\r\n              ></Route>\r\n            </Switch>\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","import {\r\n  CART_ADD,\r\n  CART_FETCH,\r\n  CART_REMOVE,\r\n  CART_CLEAN,\r\n} from \"../actions/cartActions/type\";\r\nimport _ from \"lodash\";\r\nconst initialState = {};\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case CART_ADD:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case CART_FETCH:\r\n      return { ...state, ..._.mapKeys(action.payload, \"id\") };\r\n    case CART_REMOVE:\r\n      return _.omit(state, action.payload);\r\n    case CART_CLEAN:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { SIGN_IN, SIGN_OUT } from \"../actions/types\";\r\n\r\nconst INTIAL_STATE = {\r\n  isSignedIn: null,\r\n  userId: null,\r\n  isAnonymous: false\r\n};\r\nexport default (state = INTIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SIGN_IN:\r\n      return {\r\n        ...state,\r\n        isSignedIn: true,\r\n        isAnonymous: action.payload.isAnonymous,\r\n        userId: action.payload.userId\r\n      };\r\n    case SIGN_OUT:\r\n      return { ...state, isSignedIn: false, isAnonymous: false, userId: null };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport itemReducer from \"./itemReducer\";\r\nimport cartReducer from \"./cartReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport filterReducer from \"./filterReducer\";\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  items: itemReducer,\r\n  cart: cartReducer,\r\n  filter: filterReducer,\r\n});\r\n","import {\r\n  ITEM_CREATE,\r\n  ITEM_EDIT,\r\n  ITEMS_FETCH,\r\n  ITEM_FETCH,\r\n  ITEM_DELETE,\r\n  ITEM_SORTED,\r\n} from \"../actions/types\";\r\n\r\nimport _ from \"lodash\";\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ITEM_CREATE:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case ITEM_EDIT:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case ITEM_FETCH:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case ITEMS_FETCH:\r\n      // console.log(\"got items\");\r\n      return { ..._.mapKeys(action.payload, \"id\") };\r\n    case ITEM_DELETE:\r\n      return _.omit(state, action.payload);\r\n    case ITEM_SORTED:\r\n      // console.table(action.payload);\r\n      return _.mapKeys(action.payload, \"id\");\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export default (state = { isSearching: false }, action) => {\r\n  switch (action.type) {\r\n    case \"ITEMSEARCH\":\r\n      return {\r\n        isSearching: action.payload.isSearching,\r\n        searchKey: action.payload.searchKey,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport reduxThunk from \"redux-thunk\";\r\nimport reducers from \"./reducers\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(reduxThunk))\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}