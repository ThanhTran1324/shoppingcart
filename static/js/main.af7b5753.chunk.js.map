{"version":3,"sources":["history.js","apis/firebaseShoppingCart.js","actions/cartActions/index.js","actions/cartActions/type.js","actions/index.js","actions/types.js","components/SortAndFilter.js","actions/filterActions/index.js","components/Loading.js","components/Utility.js","components/ItemList.js","components/RenderButtonLoginAsGuestUser.js","components/LoginRequiteBanner.js","components/ItemForm.js","components/ItemNew.js","components/ItemEdit.js","components/Modal.js","components/ItemDelete.js","components/ItemView.js","components/Header.js","components/Auth.js","components/MyPaypalButton.js","components/CartView.js","components/ForGotPassword.js","components/App.js","reducers/cartReducer.js","reducers/authReducer.js","reducers/index.js","reducers/itemReducer.js","reducers/filterReducer.js","index.js"],"names":["createBrowserHistory","firebaseConnect","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","cartFetch","dispatch","getState","a","auth","userId","response","database","ref","once","then","dataSnapshot","val","type","payload","items","signIn","isAnonymous","NotificationManager","success","signInAsAnonymous","isSignedIn","errorMessage","signInAnonymously","catch","error","message","signOut","console","log","history","push","itemFetch","id","orderByChild","equalTo","snapshot","itemImageDelete","imageUrl","storage","refFromURL","delete","itemSorted","name","value","sortedItems","originalItems","_","Object","values","o","reverse","sort","b","price","createdTime","SortAndFilter","componentWillUnmount","props","itemSearch","renderSelecter","input","label","option","className","onChange","handleChange","defaultValue","map","e","index","key","target","handleOnSearch","formValues","search","renderSearch","onSubmit","handleSubmit","placeholder","style","marginTop","Field","component","this","initialValues","Component","wrapper","connect","state","searchKey","undefined","isSearching","reduxForm","form","Loading","shortString","str","num","length","slice","ItemList","renderAdmin","item","currentUserId","to","addToCartHandler","cartAdd","renderList","src","images","alt","onClick","myFilter","filter","toLowerCase","includes","itemsFetch","keys","searchform","SortAndFilterForm","set","RenderButtonLoginAsGuestUser","LoginRequiteBanner","banner","content","React","ItemForm","selectedFile","imageLink","uploadPercent","imageName","componentDidMount","setState","renderInput","meta","confirmError","touched","errorClassName","renderPreImage","renderImageInput","fileSelectedHandler","fileUploadHandler","tabIndex","parseFloat","toFixed","convertImage","reader","FileReader","readAsDataURL","size","onload","event","img","Image","result","el","elem","document","createElement","scaleFactor","width","height","ctx","getContext","drawImage","srcEncoded","canvas","toDataURL","binary","atob","split","array","i","charCodeAt","Blob","Uint8Array","files","getElementById","disabled","classList","add","randomImagePrefix","Math","floor","random","preventDefault","filename","uploadTask","put","on","bytesTransferred","totalBytes","getDownloadURL","downloadURL","formValue","date","Date","getTime","validate","ItemNew","itemCreate","newItem","uuidv4","ItemEdit","match","params","itemEdit","pick","ownProps","update","Modal","ReactDOM","createPortal","stopPropagation","header","actions","querySelector","ItemDelete","Fragment","itemDelete","remove","ItemView","Header","analytics","onAuthStateChanged","user","uid","renderCartBadge","number","cart","renderAuthButton","Auth","autoComplete","showVerifyPassword","credential","EmailAuthProvider","email","password","currentUser","linkWithCredential","usercred","createUserWithEmailAndPassword","errorCode","code","signInWithEmailAndPassword","renderErrorFromServer","googleLogin","provider","GoogleAuthProvider","signInWithPopup","renderVerifyPassword","renderForgetPassword","SignInSignUpSwitch","cursor","componentWrapup","verifyPassword","MyPaypalButton","paypalOptions","clientId","intent","buttonStyles","layout","shape","amount","CartView","total","class","cartRemove","renderTotal","totalprice","parseInt","countTotal","renderWarningPanelForlAnonymoust","justifyContent","description","child","ForGotPassword","componentWillMount","marginLeft","sendPasswordResetEmail","innerHTML","App","path","exact","initialState","INTIAL_STATE","combineReducers","action","formReducer","mapKeys","omit","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render"],"mappings":"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","file":"static/js/main.af7b5753.chunk.js","sourcesContent":["import { createBrowserHistory } from \"history\";\r\n\r\nexport default createBrowserHistory();\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/database\";\r\nimport \"firebase/analytics\";\r\n\r\nvar config = {\r\n  apiKey: process.env.REACT_APP_API_1,\r\n  authDomain: process.env.REACT_APP_API_2,\r\n  databaseURL: process.env.REACT_APP_API_3,\r\n  projectId: process.env.REACT_APP_API_4,\r\n  storageBucket: process.env.REACT_APP_API_5,\r\n  messagingSenderId: process.env.REACT_APP_API_6,\r\n  appId: process.env.REACT_APP_API_7,\r\n  measurementId: process.env.REACT_APP_API_8,\r\n};\r\n// Initialize Firebase\r\n\r\nexport const firebaseConnect = firebase.initializeApp(config);\r\n","import { CART_ADD, CART_FETCH, CART_REMOVE, CART_CLEAN } from \"./type\";\r\n\r\nimport { firebaseConnect } from \"../../apis/firebaseShoppingCart\";\r\n//import history from \"../../history\";\r\nimport { NotificationManager } from \"react-notifications\";\r\nexport const cartAdd = (item) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  if (userId) {\r\n    //for Logined User\r\n    NotificationManager.success(\r\n      \"You have added a new Item!\",\r\n      \"Successful!\",\r\n      2000\r\n    );\r\n    await firebaseConnect\r\n      .database()\r\n      .ref(`/cart/Cart-${userId}/${item.id}`)\r\n      .set(item);\r\n\r\n    dispatch({\r\n      type: CART_ADD,\r\n      payload: item,\r\n    });\r\n  }\r\n};\r\n\r\nexport const cartFetch = () => async (dispatch, getState) => {\r\n  const userId = await getState().auth.userId;\r\n  let response = {};\r\n  if (userId !== null) {\r\n    response = await firebaseConnect\r\n      .database()\r\n      .ref(`/cart/Cart-${userId}`)\r\n      .once(\"value\")\r\n      .then(function (dataSnapshot) {\r\n        return dataSnapshot.val();\r\n      });\r\n    dispatch({\r\n      type: CART_FETCH,\r\n      payload: response,\r\n    });\r\n  }\r\n};\r\n\r\nexport const cartRemove = (id) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  if (userId) {\r\n    firebaseConnect\r\n      .database()\r\n      .ref(`/cart/Cart-${userId}/`)\r\n      .child(id) //id of child\r\n      .remove();\r\n\r\n    dispatch({\r\n      type: CART_REMOVE,\r\n      payload: id,\r\n    });\r\n  }\r\n};\r\nexport const cartClean = () => {\r\n  return {\r\n    type: CART_CLEAN,\r\n  };\r\n};\r\n","export const CART_ADD = \"CART_ADD\";\r\nexport const CART_FETCH = \"CART_FETCH\";\r\nexport const CART_REMOVE = \"CART_REMOVE\";\r\nexport const CART_CLEAN = \"CART_CLEAN\";\r\n","import {\r\n  SIGN_IN,\r\n  SIGN_OUT,\r\n  ITEM_CREATE,\r\n  ITEMS_FETCH,\r\n  ITEM_DELETE,\r\n  ITEM_FETCH,\r\n  ITEM_EDIT,\r\n  ITEM_SORTED,\r\n} from \"./types\";\r\nimport { cartClean } from \"./cartActions/\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { firebaseConnect } from \"../apis/firebaseShoppingCart\";\r\nimport history from \"../history\";\r\nimport firebase from \"firebase\";\r\n// import { cartAdd } from \"./cartActions\";\r\n// import { CART_CLEAN } from \"./cartActions/type\";\r\nimport * as _ from \"lodash\";\r\nimport { NotificationManager } from \"react-notifications\";\r\n// var data = firebaseConnect.database().ref(\"/\");\r\n\r\nlet items = firebaseConnect.database().ref(\"items\");\r\n\r\nexport const signIn = (userId, isAnonymous) => async (dispatch) => {\r\n  if (isAnonymous)\r\n    NotificationManager.success(\r\n      \"Please Upgrade To Permanent User To Have Better Service !\",\r\n      \"WelCome Back\",\r\n      2000\r\n    );\r\n  else NotificationManager.success(\"Login Success\", \"Success\", 2000);\r\n  await dispatch({\r\n    type: SIGN_IN,\r\n    payload: { userId, isAnonymous },\r\n  });\r\n};\r\n\r\nexport const signInAsAnonymous = () => async (dispatch, getState) => {\r\n  if (!getState().auth.isSignedIn) {\r\n    var errorMessage = null;\r\n    //if user is not login so create new anonymous user\r\n    await firebaseConnect\r\n      .auth()\r\n      .signInAnonymously()\r\n      .catch((error) => {\r\n        errorMessage = error.message;\r\n        NotificationManager.error(errorMessage, \"Error\", 2000);\r\n      });\r\n  }\r\n};\r\n\r\nexport const signOut = () => (dispatch) => {\r\n  firebase\r\n    .auth()\r\n    .signOut()\r\n    .then(() => {\r\n      NotificationManager.success(\"\", \"Logout Successful\", 2000);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n      NotificationManager.error(error.errorMessage, \"Error\", 2000);\r\n    });\r\n\r\n  dispatch({ type: SIGN_OUT });\r\n  dispatch(cartClean());\r\n  history.push(\"/shoppingcart\");\r\n};\r\n\r\nexport const itemCreate = (formValues) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  const newItem = {\r\n    ...formValues,\r\n    userId: userId,\r\n    id: uuidv4(),\r\n  };\r\n  firebaseConnect.database().ref(`items/${newItem.id}`).set(newItem);\r\n\r\n  const response = await firebaseConnect\r\n    .database()\r\n    .ref(`items/${newItem.id}`)\r\n    .once(\"value\")\r\n    .then((snapshot) => {\r\n      return snapshot.val();\r\n    });\r\n  if (response) NotificationManager.success(\"\", \"New Item Created\", 2000);\r\n  dispatch({\r\n    type: ITEM_CREATE,\r\n    payload: response,\r\n  });\r\n  history.push(\"/shoppingcart\");\r\n};\r\n\r\nexport const itemsFetch = () => async (dispatch) => {\r\n  let response = await items.once(\"value\").then(function (snapshot) {\r\n    return snapshot.val();\r\n  });\r\n  dispatch({\r\n    type: ITEMS_FETCH,\r\n    payload: response,\r\n  });\r\n  dispatch(itemSorted(\"time\", \"1\")); //sort item as new first after fetch\r\n};\r\n//items.set(_.keyBy(response, \"id\")); convert array to Object to fix database\r\n\r\nexport const itemFetch = (id) => async (dispatch) => {\r\n  // let response = await items.once(\"value\").then(snapshot => {\r\n  //   return snapshot.val()[id]; //access to Object and get value with key = id\r\n  // });\r\n  let response = await items\r\n    .orderByChild(\"id\")\r\n    .equalTo(id)\r\n    .once(\"value\")\r\n    .then(function (snapshot) {\r\n      return snapshot.val();\r\n    });\r\n  dispatch({\r\n    type: ITEM_FETCH,\r\n    payload: response[id],\r\n  });\r\n};\r\nexport const itemImageDelete = (imageUrl) => () => {\r\n  firebaseConnect\r\n    .storage()\r\n    .refFromURL(imageUrl)\r\n    .delete()\r\n    .then(function () {\r\n      console.log(\"image deleted\");\r\n    })\r\n    .catch(function () {\r\n      console.log(\"unable to delete image\");\r\n    });\r\n};\r\nexport const itemDelete = (id) => async (dispatch, getState) => {\r\n  const deleteItem = await firebaseConnect.database().ref(`items/${id}`);\r\n  deleteItem\r\n    .remove()\r\n    .then(() => {\r\n      if (getState().items[id].images)\r\n        itemImageDelete(getState().items[id].images);\r\n      NotificationManager.success(\"\", \"Item Deleted\", 2000);\r\n      dispatch({\r\n        type: ITEM_DELETE,\r\n        payload: id,\r\n      });\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n      NotificationManager.error(error.errorMessage, \"Error\", 2000); // need fix delete error\r\n    });\r\n\r\n  history.push(\"/shoppingcart\");\r\n};\r\nexport const itemEdit = (id, formValues) => async (dispatch) => {\r\n  let editItem = firebaseConnect.database().ref(`items/${id}`);\r\n  editItem.update(formValues);\r\n  const response = await firebaseConnect\r\n    .database()\r\n    .ref(`items/${id}`)\r\n    .once(\"value\")\r\n    .then((snapshot) => {\r\n      return snapshot.val();\r\n    });\r\n  dispatch({\r\n    type: ITEM_EDIT,\r\n    payload: response,\r\n  });\r\n  history.push(\"/shoppingcart\");\r\n};\r\n\r\nexport const itemSorted = (name, value) => (dispatch, getState) => {\r\n  //sortedItems is an array sent to reducer, reducer will convert to Object\r\n\r\n  let sortedItems = [];\r\n  let originalItems = getState().items;\r\n  switch (name) {\r\n    //sort by name\r\n    case \"name\":\r\n      if (value === \"0\") {\r\n        //sort from a to z\r\n        sortedItems = _.sortBy(Object.values(originalItems), [\r\n          function (o) {\r\n            return o.name;\r\n          },\r\n        ]);\r\n      } else {\r\n        //sort from z to a\r\n        sortedItems = _.sortBy(Object.values(originalItems), [\r\n          function (o) {\r\n            return o.name;\r\n          },\r\n        ]).reverse();\r\n      }\r\n      break;\r\n\r\n    //end sort by name\r\n    case \"price\":\r\n      if (value === \"0\") {\r\n        //sort from low price to hight price\r\n        sortedItems = Object.values(originalItems).sort(\r\n          (a, b) => a.price - b.price\r\n        );\r\n      } else {\r\n        //sort from high to low price\r\n        sortedItems = Object.values(originalItems)\r\n          .sort((a, b) => a.price - b.price)\r\n          .reverse();\r\n      }\r\n      break;\r\n    case \"time\":\r\n      if (value === \"0\") {\r\n        //sort from old to new\r\n        sortedItems = Object.values(originalItems).sort((a, b) => {\r\n          return a.createdTime - b.createdTime;\r\n        });\r\n      } else {\r\n        //sort from new to old\r\n        sortedItems = Object.values(originalItems)\r\n          .sort((a, b) => {\r\n            return a.createdTime - b.createdTime;\r\n          })\r\n          .reverse();\r\n      }\r\n      break;\r\n    // case \"searchByName\":\r\n    //   sortedItems = Object.values(originalItems).filter(e =>\r\n    //     e.name.match(value)\r\n    //   );\r\n    //   console.log(sortedItems.length === 0);\r\n    //   if (sortedItems.length === 0) {\r\n    //     console.log(\"no item\");\r\n    //     NotificationManager.warning(\"\", \"No Item Was found!\", 3000);\r\n    //     dispatch(itemsFetch());\r\n    //   }\r\n\r\n    //   break;\r\n    default:\r\n  }\r\n  dispatch({\r\n    type: ITEM_SORTED,\r\n    payload: sortedItems,\r\n  });\r\n};\r\n","export const SIGN_IN = \"SIGN_IN\";\r\nexport const SIGN_OUT = \"SIGN_OUT\";\r\nexport const ITEM_CREATE = \"ITEM_CREATE\";\r\nexport const ITEM_EDIT = \"ITEM_EDIT\";\r\nexport const ITEMS_FETCH = \"ITEMS_FETCH\";\r\nexport const ITEM_FETCH = \"ITEM_FETCH\";\r\nexport const ITEM_DELETE = \"ITEM_DELETE\";\r\nexport const ITEM_SORTED = \"ITEM_SORTED\";\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { itemSorted } from \"../actions/\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { itemSearch } from \"../actions/filterActions\";\r\nexport class SortAndFilter extends Component {\r\n  componentWillUnmount = () => {\r\n    // Clean up Search\r\n    this.props.itemSearch(\"\");\r\n  };\r\n\r\n  renderSelecter = ({ name, input, label, option }) => {\r\n    return (\r\n      <div className=\"ui four column form noPadding\">\r\n        {/* Sort Dropdown */}\r\n\r\n        <select {...input} onChange={this.handleChange} className=\"ui dropdown\">\r\n          <option value=\"-1\" defaultValue>\r\n            {label}\r\n          </option>\r\n          {option.map((e, index) => {\r\n            return (\r\n              <option value={index} key={index}>\r\n                {e}\r\n              </option>\r\n            );\r\n            // value = 0 => low to high and old to new\r\n            // value = 1 => high to old and new to old\r\n          })}\r\n        </select>\r\n        {/* End Sort  Dropdown */}\r\n      </div>\r\n    );\r\n  };\r\n  handleChange = (e) => {\r\n    if (e.target) {\r\n      this.props.itemSorted(e.target.name, e.target.value);\r\n    }\r\n  };\r\n\r\n  handleOnSearch = (formValues) => {\r\n    this.props.itemSearch(formValues.search);\r\n  };\r\n  renderSearch = ({ input, name }) => {\r\n    console.log(input);\r\n    return (\r\n      <div className=\"ui  ui four column form noPadding\">\r\n        <form onSubmit={this.props.handleSubmit(this.handleOnSearch)}>\r\n          <input type=\"text\" placeholder=\"Search\" {...input}></input>\r\n        </form>\r\n      </div>\r\n    );\r\n  };\r\n  render() {\r\n    // console.log(this.props);\r\n    return (\r\n      <div className=\"ui grid container \" style={{ marginTop: \"10px\" }}>\r\n        <div className=\"four column row noPadding\">\r\n          <Field\r\n            name=\"search\"\r\n            component={this.renderSearch}\r\n            initialValues={{ search: \"hello\" }}\r\n          ></Field>\r\n\r\n          <Field\r\n            name=\"price\"\r\n            label=\"Price\"\r\n            component={this.renderSelecter}\r\n            option={[\"Low To High\", \"High To Low\"]}\r\n          ></Field>\r\n\r\n          <Field\r\n            name=\"time\"\r\n            label=\"Time\"\r\n            component={this.renderSelecter}\r\n            option={[\"Old To New\", \"New To Old\"]}\r\n          ></Field>\r\n\r\n          <Field\r\n            name=\"name\"\r\n            label=\"Name\"\r\n            component={this.renderSelecter}\r\n            option={[\"A-Z\", \"Z-A\"]}\r\n          ></Field>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    items: state.items,\r\n  };\r\n};\r\nconst wrapper = connect(mapStateToProps, { itemSorted, itemSearch })(\r\n  SortAndFilter\r\n);\r\nexport default reduxForm({\r\n  form: \"SortAndFilterForm\",\r\n})(wrapper);\r\n","export const itemSearch = (searchKey) => (dispatch) => {\r\n  if (searchKey === undefined)\r\n    dispatch({ type: \"ITEMSEARCH\", payload: { isSearching: false } });\r\n  else\r\n    dispatch({\r\n      type: \"ITEMSEARCH\",\r\n      payload: { searchKey: searchKey, isSearching: true },\r\n    });\r\n};\r\n","import React from \"react\";\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className=\"ui active active dimmer\">\r\n      <div className=\"ui large text loader\">Loading ...</div>\r\n    </div>\r\n  );\r\n};\r\nexport default Loading;\r\n","export const shortString = function (str, num) {\r\n  if (str.length <= num) return str;\r\n  return str.slice(0, num) + \"...\";\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { itemsFetch, signInAsAnonymous } from \"../actions\";\r\nimport { cartAdd } from \"../actions/cartActions\";\r\nimport SortAndFilter from \"./SortAndFilter\";\r\nimport Loading from \"./Loading\";\r\nimport { shortString } from \"./Utility\";\r\nimport \"../css/ItemList.css\";\r\nexport class ItemList extends Component {\r\n  componentDidMount() {\r\n    this.props.itemsFetch();\r\n  }\r\n  renderAdmin = (item) => {\r\n    if (item.userId === this.props.currentUserId)\r\n      return (\r\n        <div>\r\n          <hr></hr>\r\n          <div className=\"ui large two buttons\">\r\n            <Link\r\n              to={`/shoppingcart/items/delete/${item.id}`}\r\n              className=\"ui inverted red button \"\r\n              // style={{ whiteSpace: \"nowrap\" }}\r\n            >\r\n              <i className=\"icon trash alternate\" />\r\n              Delete\r\n            </Link>\r\n            <div className=\"or\"></div>\r\n            <Link\r\n              to={`/shoppingcart/items/edit/${item.id}`}\r\n              className=\"ui inverted blue button \"\r\n            >\r\n              <i className=\"edit icon\"></i>Edit\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      );\r\n  };\r\n  addToCartHandler = (item) => {\r\n    this.props.signInAsAnonymous();\r\n    this.props.cartAdd(item);\r\n  };\r\n  // shortString = (str, num) => {\r\n  //   if (str.length <= num) return str;\r\n  //   return str.slice(0, num) + \"...\";\r\n  // };\r\n  renderList = (items) => {\r\n    if (items.length === 0) {\r\n      return <h1>Sorry, We don't have the Item you need !!!</h1>;\r\n    } else\r\n      return items.map((item) => {\r\n        return (\r\n          <div className=\"card  \" key={item.id}>\r\n            <div\r\n              className=\"blurring dimmable image \"\r\n              // style={{ position: \"relative\" }}\r\n            >\r\n              <img\r\n                className=\"imageCartList  myImageCardList\"\r\n                src={\r\n                  !item.images\r\n                    ? \"https://firebasestorage.googleapis.com/v0/b/shoppingcart-f5bc6.appspot.com/o/donut.jpg?alt=media&token=dae66b8a-f9dd-451b-b13d-3ff658e6dd28\"\r\n                    : item.images\r\n                }\r\n                alt=\"hinh\"\r\n              ></img>\r\n              <button\r\n                className=\"ui button primary myAddButton\"\r\n                onClick={() => this.addToCartHandler(item)}\r\n              >\r\n                <i className=\"shopping cart icon\"></i>\r\n                Add\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"content\">\r\n              {/* <div className=\" ui buttons right floated\"> */}\r\n\r\n              {/* </div> */}\r\n              <div className=\"header myItemName\">\r\n                {shortString(item.name, 50)}\r\n              </div>\r\n              <div className=\"meta\">\r\n                <p className=\"myPrice\">${item.price}</p>\r\n              </div>\r\n\r\n              <div className=\"extra content\">{this.renderAdmin(item)}</div>\r\n            </div>\r\n          </div>\r\n\r\n          // <div key={item.id} className=\"item\">\r\n          //   {item.name}/${item.price}\r\n          //   <div className=\" ui buttons right floated\">\r\n          //     {this.renderAdmin(item)}\r\n          //     <button\r\n          //       className=\"ui button primary\"\r\n          //       onClick={() => this.props.cartAdd(item)}\r\n          //     >\r\n          //       <i className=\"shopping cart icon\"></i>\r\n          //       Add to cart\r\n          //     </button>\r\n          //   </div>\r\n          // </div>\r\n        );\r\n      });\r\n  };\r\n  myFilter = (items) => {\r\n    if (this.props.isSearching) {\r\n      console.log(\"key:\", this.props.searchKey);\r\n      return items.filter((item) => {\r\n        console.log(\r\n          item.name.toLowerCase().includes(this.props.searchKey.toLowerCase())\r\n        );\r\n        return item.name\r\n          .toLowerCase()\r\n          .includes(this.props.searchKey.toLowerCase());\r\n      });\r\n    } else return items;\r\n  };\r\n  render() {\r\n    if (Object.keys(this.props.items).length === 0) {\r\n      return <Loading />;\r\n    } else {\r\n      return (\r\n        <div className=\"ui fluid container \">\r\n          <SortAndFilter></SortAndFilter>\r\n          <div className=\"ui special cards centered\">\r\n            {this.renderList(this.myFilter(Object.values(this.props.items)))}\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    items: state.items,\r\n    searchform: state.form.SortAndFilterForm,\r\n    currentUserId: state.auth.userId,\r\n    isSignedIn: state.auth.isSignedIn,\r\n    isSearching: state.filter.isSearching,\r\n    searchKey: state.filter.searchKey,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, {\r\n  itemsFetch,\r\n  cartAdd,\r\n  signInAsAnonymous,\r\n})(ItemList);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { signInAsAnonymous } from \"../actions\";\r\nimport { Link } from \"react-router-dom\";\r\nexport class RenderButtonLoginAsGuestUser extends Component {\r\n  render() {\r\n    if (!this.props.isSignedIn)\r\n      //not login\r\n      return (\r\n        <button\r\n          onClick={this.props.signInAsAnonymous}\r\n          className=\"ui teal google button my-google-login\"\r\n        >\r\n          <i className=\"user secret icon\"></i>Login As Guest User\r\n        </button>\r\n      );\r\n    else if (this.props.isSignedIn && this.props.isAnonymous) {\r\n      //logined as guest\r\n      return (\r\n        <Link\r\n          to=\"/shoppingcart/login/\"\r\n          className=\"ui blue google button my-google-login\"\r\n        >\r\n          <i className=\"user secret icon\"></i>Upgrade to permanent user\r\n        </Link>\r\n      );\r\n    }\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isSignedIn: state.auth.isSignedIn,\r\n    isAnonymous: state.auth.isAnonymous\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { signInAsAnonymous })(\r\n  RenderButtonLoginAsGuestUser\r\n);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport RenderButtonLoginAsGuestUser from \"./RenderButtonLoginAsGuestUser\";\r\nclass LoginRequiteBanner extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"ui container\">\r\n        <div className=\"ui one column grid\">\r\n          <div className=\"column\">\r\n            <div className=\"ui raised segment\">\r\n              <p className=\"ui red ribbon label\">{this.props.banner}</p>\r\n              <p></p>\r\n              <div>\r\n                Please{\" \"}\r\n                {\r\n                  <Link className=\"ui teal button\" to=\"/shoppingcart/login\">\r\n                    Login\r\n                  </Link>\r\n                }\r\n                {this.props.content}\r\n                <RenderButtonLoginAsGuestUser />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null)(LoginRequiteBanner);\r\n","import React, { Component } from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { firebaseConnect } from \"../apis/firebaseShoppingCart\";\r\nimport { NotificationManager } from \"react-notifications\";\r\n// import axios from \"axios\";\r\nclass ItemForm extends Component {\r\n  state = {\r\n    selectedFile: null,\r\n    imageLink: null,\r\n    uploadPercent: 0,\r\n    imageName: null,\r\n  };\r\n  componentDidMount = () => {\r\n    if (this.props.initialValues)\r\n      this.setState({ imageLink: this.props.initialValues.images });\r\n  };\r\n  renderInput = ({ input, meta, label, type }) => {\r\n    const confirmError = meta.error && meta.touched;\r\n    const errorClassName = `field ${confirmError ? `error` : ``}`;\r\n\r\n    return (\r\n      <div className={errorClassName}>\r\n        <label>\r\n          {label} :{`${confirmError ? \"Requited\" : \"\"}`}\r\n        </label>\r\n        <input {...input} type={type} placeholder={label} />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderPreImage = () => {\r\n    if (this.props.initialValues) {\r\n      return (\r\n        <div>\r\n          <img\r\n            className=\"ui medium centered rounded image \"\r\n            src={this.props.initialValues.images}\r\n            alt=\"Item\"\r\n          ></img>\r\n          <p> Click Choose File to update new image :</p>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n  renderImageInput = ({ input, meta, label, uploadPercent }) => {\r\n    return (\r\n      <div className=\"field\">\r\n        <label>{label} :</label>\r\n        {this.renderPreImage()}\r\n\r\n        <div>\r\n          <input type=\"file\" onChange={this.fileSelectedHandler}></input>\r\n\r\n          <div\r\n            onClick={this.fileUploadHandler}\r\n            className=\"ui labeled button\"\r\n            tabIndex=\"0\"\r\n          >\r\n            <div id=\"uploadButton\" className=\"ui button  \">\r\n              <i className=\"upload icon \"></i> Upload\r\n            </div>\r\n            <p className=\"ui basic label\">\r\n              {parseFloat(uploadPercent).toFixed(2)}%\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  convertImage = (item) => {\r\n    var resize_width = 600;\r\n    var reader = new FileReader();\r\n\r\n    //image turned to base64-encoded Data URI.\r\n    reader.readAsDataURL(item);\r\n    reader.name = item.name; //get the image's name\r\n    reader.size = item.size; //get the image's size\r\n    reader.onload = (event) => {\r\n      var img = new Image(); //create a image\r\n      img.src = event.target.result; //result is base64-encoded Data URI\r\n      img.name = event.target.name; //set name (optional)\r\n      img.size = event.target.size; //set size (optional)\r\n      img.onload = async (el) => {\r\n        var elem = document.createElement(\"canvas\"); //create a canvas\r\n\r\n        //scale the image to 600 (width) and keep aspect ratio\r\n        var scaleFactor = resize_width / el.target.width;\r\n        elem.width = resize_width;\r\n        elem.height = el.target.height * scaleFactor;\r\n\r\n        //draw in canvas\r\n        var ctx = elem.getContext(\"2d\");\r\n        ctx.drawImage(el.target, 0, 0, elem.width, elem.height);\r\n\r\n        //get the base64-encoded Data URI from the resize image\r\n        var srcEncoded = ctx.canvas.toDataURL(el.target, \"image/jpeg\", 0);\r\n        //convert uri to image\r\n        var binary = atob(srcEncoded.split(\",\")[1]);\r\n        var array = [];\r\n        for (var i = 0; i < binary.length; i++) {\r\n          array.push(binary.charCodeAt(i));\r\n        }\r\n        this.setState({\r\n          selectedFile: new Blob([new Uint8Array(array)], {\r\n            type: \"image/jpeg\",\r\n          }),\r\n        });\r\n      };\r\n    };\r\n  };\r\n\r\n  fileSelectedHandler = (event) => {\r\n    if (event.target.files.length > 0) {\r\n      this.setState({ imageName: event.target.files[0].name });\r\n      this.convertImage(event.target.files[0]);\r\n      NotificationManager.success(\r\n        ` ${parseFloat(event.target.files[0].size / 1024 / 1024).toFixed(\r\n          2\r\n        )} MB `,\r\n        \"Converting Your Image\",\r\n        2000\r\n      );\r\n      document.getElementById(\"submitButton\").disabled = true; //disable submit button , wait for click upload\r\n      document.getElementById(\"uploadButton\").classList.add(\"green\");\r\n    }\r\n  };\r\n  fileUploadHandler = (event) => {\r\n    var randomImagePrefix = Math.floor(Math.random() * Math.floor(1000)); //to fix same image name\r\n\r\n    event.preventDefault();\r\n    var filename = this.state.imageName; //get file name\r\n    var storageRef = firebaseConnect\r\n      .storage()\r\n      .ref(`/images/` + randomImagePrefix + filename); //upload to image folder\r\n    var uploadTask = storageRef.put(this.state.selectedFile);\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      (snapshot) => {\r\n        //run during upload proccess\r\n        this.setState({\r\n          uploadPercent:\r\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100,\r\n        });\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n      },\r\n      () => {\r\n        uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n          // arrow function to use this.setState\r\n          this.setState({ imageLink: downloadURL });\r\n          document.getElementById(\"submitButton\").disabled = false;\r\n        });\r\n      }\r\n    );\r\n  };\r\n\r\n  onSubmit = (formValue) => {\r\n    //get time created of item\r\n    var date = new Date();\r\n    formValue.createdTime = date.getTime();\r\n    formValue.images = this.state.imageLink;\r\n    formValue.price = parseFloat(formValue.price);\r\n    this.props.onSubmit(formValue);\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"ui  container segment\">\r\n        <form\r\n          onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n          className=\"ui form error\"\r\n        >\r\n          <Field name=\"name\" component={this.renderInput} label=\"Name\" />\r\n          <Field\r\n            name=\"price\"\r\n            component={this.renderInput}\r\n            label=\"Price\"\r\n            type=\"number\"\r\n          />\r\n\r\n          {/* Upload item pictures */}\r\n          <Field\r\n            name=\"images\"\r\n            component={this.renderImageInput}\r\n            label=\"Images\"\r\n            uploadPercent={this.state.uploadPercent}\r\n          />\r\n\r\n          <button id=\"submitButton\" className=\"ui green approve right button\">\r\n            Submit\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValue) => {\r\n  const error = {};\r\n  if (!formValue.name) error.name = \"Requite Value!\";\r\n  if (!formValue.price) error.price = \"Requite Value!\";\r\n\r\n  return error;\r\n};\r\n\r\nexport default reduxForm({\r\n  form: \"ItemForm\",\r\n  validate,\r\n})(ItemForm);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n// import { Link } from \"react-router-dom\";\r\n\r\nimport LoginRequiteBanner from \"./LoginRequiteBanner\";\r\nimport { itemCreate } from \"../actions\";\r\nimport ItemForm from \"./ItemForm\";\r\n\r\nclass ItemNew extends Component {\r\n  onSubmit = formValue => {\r\n    this.props.itemCreate(formValue);\r\n  };\r\n\r\n  render() {\r\n    if (this.props.isSignedIn && !this.props.isAnonymous)\r\n      return <ItemForm onSubmit={this.onSubmit}></ItemForm>;\r\n    else if (this.props.isAnonymous)\r\n      return (\r\n        <LoginRequiteBanner\r\n          banner=\"Please Login\"\r\n          content={`You Are Shopping As Guest User!\r\n        Please Login To Have Better Service.`}\r\n        ></LoginRequiteBanner>\r\n      );\r\n    else {\r\n      return (\r\n        <LoginRequiteBanner\r\n          banner=\"Please Login\"\r\n          content=\"To Start Selling\"\r\n        ></LoginRequiteBanner>\r\n      );\r\n    }\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isSignedIn: state.auth.isSignedIn,\r\n    isAnonymous: state.auth.isAnonymous\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { itemCreate })(ItemNew);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\n\r\nimport ItemForm from \"./ItemForm\";\r\n\r\nimport { itemFetch, itemEdit, itemImageDelete } from \"../actions\";\r\nclass ItemEdit extends Component {\r\n  componentDidMount() {\r\n    this.props.itemFetch(this.props.match.params.id);\r\n\r\n    //fix createdTime of item\r\n    // Object.values(this.props.items).map(item => {\r\n    //   if (!item.createdTime) {\r\n    //     var date = new Date();\r\n    //     var TimeInMiliSecond = date.getTime();\r\n    //     var newItem = { ...item, createdTime: TimeInMiliSecond };\r\n    //     this.props.itemEdit(newItem.id, newItem);\r\n    //     console.log(\"edited\");\r\n    //   }\r\n    // });\r\n\r\n    // add createdTime to Database\r\n    // Object.values(this.props.items).map(item => {\r\n    //   var date = new Date();\r\n    //   var TimeInMiliSecond = date.getTime();\r\n    //   var newItem = { ...item, createdTime: TimeInMiliSecond };\r\n    //   this.props.itemEdit(newItem.id, newItem);\r\n    //   console.log(\"edited\");\r\n    // });\r\n  }\r\n\r\n  id = this.props.match.params.id;\r\n\r\n  onSubmit = (formValues) => {\r\n    if (formValues.images !== this.props.item.images)\r\n      this.props.itemImageDelete(this.props.item.images);\r\n    this.props.itemEdit(this.id, formValues);\r\n  };\r\n  render() {\r\n    if (this.props.item)\r\n      return (\r\n        <ItemForm\r\n          onSubmit={this.onSubmit}\r\n          initialValues={_.pick(this.props.item, \"name\", \"price\", \"images\")}\r\n        ></ItemForm>\r\n      );\r\n    else return \"loading\";\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    item: state.items[ownProps.match.params.id],\r\n    items: state.items,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, {\r\n  itemFetch,\r\n  itemEdit,\r\n  itemImageDelete,\r\n})(ItemEdit);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport history from \"../history\";\r\nconst Modal = props => {\r\n  return ReactDOM.createPortal(\r\n    <div\r\n      onClick={() => history.push(\"/\")}\r\n      className=\"ui dimmer modals visible active\"\r\n    >\r\n      <div\r\n        onClick={e => e.stopPropagation()}\r\n        className=\"ui standard modal visible active\"\r\n      >\r\n        <div className=\"header\">{props.header}</div>\r\n        <div className=\"content\"> {props.content}</div>\r\n        <div className=\"actions\">{props.actions}</div>\r\n      </div>\r\n    </div>,\r\n    document.querySelector(\"#modal\")\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\r\nimport Modal from \"./Modal\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { itemFetch, itemDelete } from \"../actions\";\r\nclass ItemDelete extends Component {\r\n  componentDidMount() {\r\n    this.props.itemFetch(this.props.match.params.id);\r\n  }\r\n  actions = () => {\r\n    return (\r\n      <React.Fragment>\r\n        <Link to=\"/shoppingcart\" className=\"ui button\">\r\n          Cancel\r\n        </Link>\r\n        <button\r\n          className=\"ui button primary\"\r\n          onClick={() => this.props.itemDelete(this.props.match.params.id)}\r\n        >\r\n          Delete\r\n        </button>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n  render() {\r\n    //console.log(this.props.item);\r\n    return (\r\n      <div>\r\n        <Modal\r\n          actions={this.actions()}\r\n          header=\"Delete Item\"\r\n          content={`Do you want to delete   ${\r\n            this.props.item ? this.props.item.name : \"\"\r\n          }?`}\r\n        ></Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    item: state.items[ownProps.match.params.id]\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { itemFetch, itemDelete })(ItemDelete);\r\n","import React, { Component } from \"react\";\r\n\r\nexport class ItemView extends Component {\r\n  render() {\r\n    return <div>view</div>;\r\n  }\r\n}\r\n\r\nexport default ItemView;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { firebaseConnect } from \"../apis/firebaseShoppingCart\";\r\nimport { cartFetch } from \"../actions/cartActions\";\r\nimport { signIn, signOut } from \"../actions/\";\r\nclass Header extends React.Component {\r\n  componentDidMount = async () => {\r\n    firebaseConnect.analytics();\r\n    await firebaseConnect.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.props.signIn(user.uid, user.isAnonymous);\r\n        this.props.cartFetch();\r\n      }\r\n    });\r\n  };\r\n  renderCartBadge = () => {\r\n    let number = \"0\";\r\n\r\n    if (this.props.cart) number = Object.values(this.props.cart).length;\r\n    return (\r\n      <div>\r\n        Cart <i className=\" icon shopping cart\" />\r\n        <span className=\"badge\">{` ( ${number})`}</span>\r\n      </div>\r\n    );\r\n  };\r\n  renderAuthButton = () => {\r\n    if (this.props.isSignedIn && !this.props.isAnonymous)\r\n      return (\r\n        <Link to=\"/shoppingcart\" onClick={this.props.signOut} className=\"item \">\r\n          Logout\r\n        </Link>\r\n      );\r\n    else\r\n      return (\r\n        <Link to=\"/shoppingcart/login/\" className=\"item\">\r\n          Login\r\n        </Link>\r\n      );\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"myNavBar\">\r\n        <div className=\"ui teal four item inverted menu\">\r\n          <Link to=\"/shoppingcart/\" className=\" item\">\r\n            Home\r\n          </Link>\r\n          <Link to=\"/shoppingcart/items/new\" className=\"item\">\r\n            Create Item\r\n          </Link>\r\n          <Link id=\"cart\" to=\"/shoppingcart/cart/view\" className=\"item\">\r\n            {this.renderCartBadge()}\r\n          </Link>\r\n          {this.renderAuthButton()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    cart: state.cart,\r\n    isSignedIn: state.auth.isSignedIn,\r\n    isAnonymous: state.auth.isAnonymous,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { cartFetch, signIn, signOut })(Header);\r\n","import React, { Component } from \"react\";\r\nimport { firebaseConnect } from \"../apis/firebaseShoppingCart\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n// import firebaseui from \"firebaseui\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"../css/auth.css\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { connect } from \"react-redux\";\r\nimport { signIn, signOut } from \"../actions\";\r\nimport { NotificationManager } from \"react-notifications\";\r\nimport history from \"../history\";\r\n// import GoogleAuth from \"./GoogleAuth\";\r\n\r\nclass Auth extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: \"\",\r\n      showVerifyPassword: false,\r\n    };\r\n  }\r\n\r\n  renderInput = ({ input, meta, label, type }) => {\r\n    const confirmError = meta.error && meta.touched;\r\n    const errorClassName = `field textbox ${confirmError ? `error` : ``}`;\r\n    return (\r\n      <div className={errorClassName}>\r\n        <label>\r\n          {label}\r\n          {`${confirmError ? meta.error : \"\"}`}\r\n        </label>\r\n        <input {...input} type={type} autoComplete={input.name} />\r\n      </div>\r\n    );\r\n  };\r\n  onSubmit = (formValue) => {\r\n    //--------Log In--------\r\n    if (!this.state.showVerifyPassword) {\r\n      //Login\r\n      firebaseConnect\r\n        .auth()\r\n        .signInWithEmailAndPassword(formValue.email, formValue.password)\r\n        .then((result) => {\r\n          this.setState({ error: \"Login Success\" });\r\n          history.push(\"/shoppingcart\");\r\n        })\r\n        .catch((error) => {\r\n          // Handle Errors here.\r\n          var errorCode = error.code;\r\n          this.setState({ error: errorCode });\r\n        });\r\n    }\r\n    //--------Sign Up--------\r\n    else {\r\n      if (this.props.isSignedIn && this.props.isAnonymous) {\r\n        //merge anonymous user and new user\r\n        var credential = firebaseConnect.auth.EmailAuthProvider.credential(\r\n          formValue.email,\r\n          formValue.password\r\n        );\r\n        // console.log(credential);\r\n        firebaseConnect\r\n          .auth()\r\n          .currentUser.linkWithCredential(credential)\r\n          .then(\r\n            function (usercred) {\r\n              NotificationManager.success(\r\n                `Anonymous account successfully upgraded `,\r\n                \"Successful!\",\r\n                2000\r\n              );\r\n              history.push(\"/shoppingcart\");\r\n              // console.log(\"Anonymous account successfully upgraded\");\r\n            },\r\n            function (error) {\r\n              NotificationManager.error(error.message, \"Error!\", 2000);\r\n              // console.log(\"Error upgrading anonymous account\", );\r\n            }\r\n          );\r\n      } else {\r\n        //Create User\r\n        firebaseConnect\r\n          .auth()\r\n          .createUserWithEmailAndPassword(formValue.email, formValue.password)\r\n          .then((result) => {\r\n            history.push(`/shoppingcart`);\r\n          })\r\n          .catch((error) => {\r\n            //Handle Erros here\r\n            var errorCode = error.code;\r\n            this.setState({ error: errorCode });\r\n          });\r\n      }\r\n      //notificateModal\r\n    }\r\n  };\r\n  renderErrorFromServer = () => {\r\n    // console.log(this.state.error);\r\n    switch (this.state.error) {\r\n      case \"auth/user-not-found\":\r\n      case \"auth/wrong-password\":\r\n        return <div>Wrong User or Password</div>;\r\n      default:\r\n        return <div>{this.state.error}</div>;\r\n    }\r\n  };\r\n  googleLogin = () => {\r\n    var provider = new firebase.auth.GoogleAuthProvider();\r\n    firebaseConnect\r\n      .auth()\r\n      .signInWithPopup(provider)\r\n      .then(function (result) {\r\n        // This gives you a Google Access Token. You can use it to access the Google API.\r\n        // var token = result.credential.accessToken;\r\n        // // The signed-in user info.\r\n        // var user = result.user;\r\n        // ...\r\n        if (result.user) history.push(\"/shoppingcart\");\r\n      })\r\n      .catch(function (error) {\r\n        // Handle Errors here.\r\n        // var errorCode = error.code;\r\n        // var errorMessage = error.message;\r\n        // // The email of the user's account used.\r\n        // var email = error.email;\r\n        // // The firebase.auth.AuthCredential type that was used.\r\n        // var credential = error.credential;\r\n        // ...\r\n      });\r\n  };\r\n\r\n  renderVerifyPassword = () => {\r\n    if (this.state.showVerifyPassword) {\r\n      return (\r\n        <Field\r\n          type=\"password\"\r\n          name=\"verifyPassword\"\r\n          label=\"Verify Password\"\r\n          component={this.renderInput}\r\n        ></Field>\r\n      );\r\n    }\r\n  };\r\n  renderForgetPassword = () => {\r\n    if (!this.state.showVerifyPassword) {\r\n      return (\r\n        <Link\r\n          to=\"/shoppingcart/forgotpassword\"\r\n          className=\"my_forgot_password_text\"\r\n        >\r\n          Forgot Your Password\r\n        </Link>\r\n      );\r\n    }\r\n  };\r\n  SignInSignUpSwitch = (value) => {\r\n    this.setState({ showVerifyPassword: value });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"ui  container \">\r\n        <div className=\"login-container\">\r\n          <div className=\"login-box\">\r\n            <div className=\"ui equal width center aligned padded grid\">\r\n              <div className=\"row\">\r\n                <div\r\n                  className=\" green column\"\r\n                  onClick={() => this.SignInSignUpSwitch(false)}\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  Log in\r\n                </div>\r\n                <div\r\n                  className=\"blue column\"\r\n                  onClick={() => this.SignInSignUpSwitch(true)}\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  Sign Up\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <form\r\n              onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n              className=\"ui form error\"\r\n            >\r\n              <Field\r\n                name=\"email\"\r\n                label=\"Email\"\r\n                component={this.renderInput}\r\n              ></Field>\r\n              <Field\r\n                type=\"password\"\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                component={this.renderInput}\r\n              ></Field>\r\n              {this.renderForgetPassword()}\r\n              {this.renderVerifyPassword()}\r\n              {this.renderErrorFromServer()}\r\n              <button\r\n                type=\"submit\"\r\n                className={`ui approve  button  my-login-button ${\r\n                  this.state.showVerifyPassword ? `blue` : `green`\r\n                }`}\r\n              >\r\n                {this.state.showVerifyPassword ? `Sign Up` : `Log In`}\r\n              </button>\r\n            </form>\r\n          </div>\r\n          <button\r\n            onClick={this.googleLogin}\r\n            className=\"ui red google button my-google-login\"\r\n          >\r\n            <i className=\"google icon\"></i>Google Login\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst validate = (formValue) => {\r\n  const error = {};\r\n  const mailformat = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\r\n  if (!formValue.email) error.email = \" Requite Value !\";\r\n  else if (!formValue.email.match(mailformat)) error.email = \" Wrong Format !\";\r\n  if (!formValue.password) error.password = \" Requite Value !\";\r\n\r\n  if (formValue.verifyPassword !== formValue.password)\r\n    error.verifyPassword = \" : Wrong Verify Password\";\r\n  if (!formValue.verifyPassword) error.verifyPassword = \" Requite Value !\";\r\n\r\n  return error;\r\n};\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isSignedIn: state.auth.isSignedIn,\r\n    isAnonymous: state.auth.isAnonymous,\r\n  };\r\n};\r\nconst componentWrapup = connect(mapStateToProps, {\r\n  signIn,\r\n  signOut,\r\n})(Auth);\r\n\r\nexport default reduxForm({\r\n  form: \"userForm\",\r\n  validate,\r\n})(componentWrapup);\r\n","/* eslint-disable react/react-in-jsx-scope */\r\nimport { PayPalButton } from \"react-paypal-button\";\r\nimport React from \"react\";\r\nexport default function MyPaypalButton(props) {\r\n  const paypalOptions = {\r\n    clientId: process.env.REACT_APP_API_PAYPALKEY,\r\n    intent: \"capture\"\r\n  };\r\n\r\n  const buttonStyles = {\r\n    layout: \"vertical\",\r\n    shape: \"rect\"\r\n  };\r\n  // console.log(props.price);\r\n  return (\r\n    <PayPalButton\r\n      paypalOptions={paypalOptions}\r\n      buttonStyles={buttonStyles}\r\n      amount={props.price}\r\n    />\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n// import { Link } from \"react-router-dom\";//import { Link } from \"react-router-dom\";\r\nimport { cartRemove, cartFetch } from \"../actions/cartActions\";\r\nimport MyPaypalButton from \"./MyPaypalButton\";\r\nimport LoginRequiteBanner from \"./LoginRequiteBanner\";\r\nimport \"../css/CartView.css\";\r\nimport { shortString } from \"./Utility\";\r\nexport class CartView extends Component {\r\n  state = {\r\n    total: 0,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.cartFetch();\r\n  }\r\n  renderList = (items) => {\r\n    return items.map((item) => {\r\n      return (\r\n        <div key={item.id} className=\"three column row itemContainerCart\">\r\n          <div class=\"four wide column \">\r\n            <img\r\n              className=\"ui tiny image centered\"\r\n              src={\r\n                !item.images\r\n                  ? \"https://firebasestorage.googleapis.com/v0/b/shoppingcart-f5bc6.appspot.com/o/donut.jpg?alt=media&token=dae66b8a-f9dd-451b-b13d-3ff658e6dd28\"\r\n                  : item.images\r\n              }\r\n              alt={item.name}\r\n            ></img>\r\n          </div>\r\n          <div class=\"eight wide column \">\r\n            <span className=\"myItemNameCart \">\r\n              {shortString(item.name, 55)}\r\n            </span>\r\n          </div>\r\n          <div class=\"four wide column\">\r\n            <div className=\"myCartViewPrice \">/${item.price}</div>\r\n            <button\r\n              onClick={() => this.props.cartRemove(item.id)}\r\n              className=\"ui  mini  button myRemoveButton  \"\r\n            >\r\n              Remove\r\n            </button>\r\n          </div>\r\n          <hr></hr>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n  renderTotal = () => {\r\n    var totalprice = 0;\r\n    if (this.props.cart !== null) {\r\n      Object.values(this.props.cart).map((item) => {\r\n        return (totalprice += parseInt(item.price));\r\n      });\r\n    }\r\n\r\n    return <span className=\"myTotalAmount\"> ${totalprice}</span>;\r\n  };\r\n  countTotal = () => {\r\n    let totalprice = 0;\r\n    Object.values(this.props.cart).map((item) => {\r\n      return (totalprice += parseInt(item.price));\r\n    });\r\n    return totalprice;\r\n  };\r\n  renderWarningPanelForlAnonymoust = () => {\r\n    if (this.props.isAnonymous)\r\n      return (\r\n        <LoginRequiteBanner\r\n          banner=\"Please Login\"\r\n          content={`You Are Shopping As Guest User!\r\n          Please Login To Have Better Service.`}\r\n        ></LoginRequiteBanner>\r\n      );\r\n  };\r\n  render() {\r\n    if (this.props.isSignedIn) {\r\n      if (this.props.cart !== null) {\r\n        return (\r\n          <div\r\n            className=\"ui container segment\"\r\n            style={{ justifyContent: \"center\" }}\r\n          >\r\n            {this.renderWarningPanelForlAnonymoust()}\r\n            <div className=\"ui grid\">\r\n              {this.renderList(Object.values(this.props.cart))}\r\n            </div>\r\n\r\n            <div className=\"ui container \" style={{ width: \"500px\" }}>\r\n              {\" \"}\r\n              <h3>\r\n                Subtotal ({Object.keys(this.props.cart).length} item):\r\n                {this.renderTotal()}\r\n              </h3>\r\n              {this.countTotal() !== 0 ? (\r\n                <MyPaypalButton\r\n                  description=\"item cui bap\"\r\n                  price={this.countTotal()}\r\n                ></MyPaypalButton>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </div>\r\n          </div>\r\n        );\r\n      } else return <div>Your Cart is empty !</div>;\r\n    } else {\r\n      return (\r\n        <LoginRequiteBanner\r\n          banner=\"Please Login\"\r\n          content=\"To Start Shopping\"\r\n        ></LoginRequiteBanner>\r\n      );\r\n    }\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    cart: state.cart,\r\n    isSignedIn: state.auth.isSignedIn,\r\n    isAnonymous: state.auth.isAnonymous,\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { cartRemove, cartFetch })(CartView);\r\n","import React, { Component } from \"react\";\r\nimport { firebaseConnect } from \"../apis/firebaseShoppingCart\";\r\n\r\nimport LoginRequiteBanner from \"./LoginRequiteBanner\";\r\nexport class ForGotPassword extends Component {\r\n  componentWillMount = () => {};\r\n  content = () => {\r\n    return (\r\n      <div>\r\n        <h2>\r\n          Enter the email address for your account we'll email you a link to\r\n          reset your password.\r\n        </h2>\r\n        <p></p>\r\n        <form className=\"ui form\">\r\n          <div className=\"field\">\r\n            <label>Email address: </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"email\"\r\n              autoComplete=\"off\"\r\n              style={{ width: \"300px\" }}\r\n            ></input>\r\n            <button\r\n              onClick={this.handleSubmit}\r\n              className=\"ui interted teal button \"\r\n              style={{ marginLeft: \"5px\" }}\r\n            >\r\n              Sent Reset Password Email\r\n            </button>\r\n            <h2 id=\"output\"> </h2>\r\n          </div>\r\n        </form>\r\n        <p></p>\r\n      </div>\r\n    );\r\n  };\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    var auth = firebaseConnect.auth();\r\n    var email = document.getElementById(\"email\").value;\r\n    auth\r\n      .sendPasswordResetEmail(email)\r\n      .then(() => {\r\n        //email sent\r\n        console.log(\"email sent\");\r\n        document.getElementById(\"output\").innerHTML = \"Email has been sent!\";\r\n      })\r\n      .catch((error) => {\r\n        //an error happened\r\n        // console.log(error);\r\n        document.getElementById(\"output\").innerHTML = error;\r\n      });\r\n  };\r\n  render() {\r\n    return (\r\n      <LoginRequiteBanner\r\n        banner=\"Forgot your password ? \"\r\n        content={this.content()}\r\n      ></LoginRequiteBanner>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ForGotPassword;\r\n","import React from \"react\";\r\nimport { Router, Route, Switch } from \"react-router-dom\";\r\n\r\nimport history from \"../history\";\r\nimport ItemList from \"./ItemList\";\r\nimport ItemNew from \"./ItemNew\";\r\nimport ItemEdit from \"./ItemEdit\";\r\nimport ItemDelete from \"./ItemDelete\";\r\nimport ItemView from \"./ItemView\";\r\nimport Header from \"./Header\";\r\nimport Auth from \"./Auth\";\r\nimport CartView from \"./CartView\";\r\nimport ForGotPassword from \"./ForGotPassword\";\r\n\r\nimport \"react-notifications/lib/notifications.css\";\r\nimport { NotificationContainer } from \"react-notifications\";\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"ui  container fluid\">\r\n        <NotificationContainer />\r\n        <Router history={history}>\r\n          <div>\r\n            <Header />\r\n            <Switch>\r\n              <Route path=\"/shoppingcart/\" exact component={ItemList}></Route>\r\n              <Route\r\n                path=\"/shoppingcart/items/new\"\r\n                exact\r\n                component={ItemNew}\r\n              ></Route>\r\n              <Route\r\n                path=\"/shoppingcart/items/edit/:id\"\r\n                exact\r\n                component={ItemEdit}\r\n              ></Route>\r\n              <Route\r\n                path=\"/shoppingcart/items/delete/:id\"\r\n                exact\r\n                component={ItemDelete}\r\n              ></Route>\r\n              <Route\r\n                path=\"/shoppingcart/items/view/:id\"\r\n                exact\r\n                component={ItemView}\r\n              ></Route>\r\n\r\n              <Route\r\n                path=\"/shoppingcart/cart/view\"\r\n                exact\r\n                component={CartView}\r\n              ></Route>\r\n              <Route path=\"/shoppingcart/login\" exact component={Auth}></Route>\r\n              <Route\r\n                path=\"/shoppingcart/forgotpassword\"\r\n                exact\r\n                component={ForGotPassword}\r\n              ></Route>\r\n            </Switch>\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","import {\r\n  CART_ADD,\r\n  CART_FETCH,\r\n  CART_REMOVE,\r\n  CART_CLEAN\r\n} from \"../actions/cartActions/type\";\r\nimport _ from \"lodash\";\r\nconst initialState = {};\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case CART_ADD:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case CART_FETCH:\r\n      return { ...state, ..._.mapKeys(action.payload, \"id\") };\r\n    case CART_REMOVE:\r\n      return _.omit(state, action.payload);\r\n    case CART_CLEAN:\r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { SIGN_IN, SIGN_OUT } from \"../actions/types\";\r\n\r\nconst INTIAL_STATE = {\r\n  isSignedIn: null,\r\n  userId: null,\r\n  isAnonymous: false\r\n};\r\nexport default (state = INTIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SIGN_IN:\r\n      return {\r\n        ...state,\r\n        isSignedIn: true,\r\n        isAnonymous: action.payload.isAnonymous,\r\n        userId: action.payload.userId\r\n      };\r\n    case SIGN_OUT:\r\n      return { ...state, isSignedIn: false, isAnonymous: false, userId: null };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport itemReducer from \"./itemReducer\";\r\nimport cartReducer from \"./cartReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport filterReducer from \"./filterReducer\";\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  items: itemReducer,\r\n  cart: cartReducer,\r\n  filter: filterReducer,\r\n});\r\n","import {\r\n  ITEM_CREATE,\r\n  ITEM_EDIT,\r\n  ITEMS_FETCH,\r\n  ITEM_FETCH,\r\n  ITEM_DELETE,\r\n  ITEM_SORTED,\r\n} from \"../actions/types\";\r\n\r\nimport _ from \"lodash\";\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ITEM_CREATE:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case ITEM_EDIT:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case ITEM_FETCH:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case ITEMS_FETCH:\r\n      // console.log(\"got items\");\r\n      return { ..._.mapKeys(action.payload, \"id\") };\r\n    case ITEM_DELETE:\r\n      return _.omit(state, action.payload);\r\n    case ITEM_SORTED:\r\n      // console.table(action.payload);\r\n      return _.mapKeys(action.payload, \"id\");\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export default (state = { isSearching: false }, action) => {\r\n  switch (action.type) {\r\n    case \"ITEMSEARCH\":\r\n      return {\r\n        isSearching: action.payload.isSearching,\r\n        searchKey: action.payload.searchKey,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport reduxThunk from \"redux-thunk\";\r\nimport reducers from \"./reducers\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(reduxThunk))\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}