(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{113:function(e,t,n){e.exports=n(233)},233:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(40),i=n.n(c),o=n(10),u=n(11),s=n(14),l=n(12),p=n(15),m=n(34),d=n(21),f=Object(d.a)(),h=n(13),b=n(28),O=n(25),v=n(9),y=n.n(v),g=n(24),j=n(107).initializeApp({apiKey:"AIzaSyBHrGHhUGCs7Yl7ds_NFE8gffSJuEH0nJU",authDomain:"shoppingcart-f5bc6.firebaseapp.com",databaseURL:"https://shoppingcart-f5bc6.firebaseio.com",projectId:"shoppingcart-f5bc6",storageBucket:"shoppingcart-f5bc6.appspot.com",messagingSenderId:"1082620304721",appId:"1:1082620304721:web:dea202d8cf3595dc7c8770",measurementId:"G-HJ5G4DL8HB"}),E=function(){return function(){var e=Object(g.a)(y.a.mark((function e(t,n){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n().auth.userId;case 2:return a=e.sent,e.next=5,j.database().ref("/cart/Cart-".concat(a)).on("value",(function(e){t({type:"CART_FETCH",payload:e.val()})}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},w=n(108),I=n.n(w),N=n(30),k=n.n(N);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=j.database().ref("/items"),P=function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.once("value").then((function(t){return t.val()[e]}));case 2:a=t.sent,n({type:"ITEM_FETCH",payload:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).renderAdmin=function(e){if(e.userId===n.props.currentUserId)return r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("div",{className:"ui large two buttons"},r.a.createElement(b.a,{to:"/shoppingcart/items/delete/".concat(e.id),className:"ui  negative button ",style:{whiteSpace:"nowrap"}},r.a.createElement("i",{className:"icon trash alternate"}),"Delete"),r.a.createElement("div",{className:"or"}),r.a.createElement(b.a,{to:"/shoppingcart/items/edit/".concat(e.id),className:"ui  positive button "},r.a.createElement("i",{className:"edit icon"}),"Edit")))},n.renderList=function(){return Object.values(n.props.items).map((function(e){return r.a.createElement("div",{className:"card  ",key:e.id},r.a.createElement("div",{className:"blurring dimmable image"},r.a.createElement("img",{src:"https://www.mercurynews.com/wp-content/uploads/2019/06/SJM-L-EDPRAIL16-0616-03.jpg?w=403",alt:"hinh"})),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:" ui buttons right floated"},r.a.createElement("button",{className:"ui button primary",onClick:function(){return n.props.cartAdd(e)}},r.a.createElement("i",{className:"shopping cart icon"}),"Add to cart")),r.a.createElement("div",{className:"header",style:{overflow:"hidden"}},e.name),r.a.createElement("div",{className:"meta"},r.a.createElement("span",{className:"price"},"$",e.price)),r.a.createElement("div",{className:"extra content"},n.renderAdmin(e))))}))},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.itemsFetch()}},{key:"render",value:function(){return r.a.createElement("div",{className:"ui container  "},r.a.createElement("div",{className:"ui special centered cards "},this.renderList()))}}]),t}(a.Component),A=Object(h.b)((function(e){return{items:e.items,currentUserId:e.auth.userId}}),{itemsFetch:function(){return function(){var e=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.on("value",(function(e){t({type:"ITEMS_FETCH",payload:e.val()})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},cartAdd:function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n,a){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.userId,t.next=3,j.database().ref("/cart/Cart-".concat(r,"/").concat(e.id)).set(e);case 3:n({type:"CART_ADD",payload:e});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(T),x=n(235),_=n(234),M=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).renderInput=function(e){var t=e.input,n=e.meta,a=e.label,c=e.type,i=n.error&&n.touched,o="field ".concat(i?"error":"");return r.a.createElement("div",{className:o},r.a.createElement("label",null,a,"".concat(i?"Requited":"")),r.a.createElement("input",Object.assign({},t,{type:c})))},n.onSubmit=function(e){e.price=parseInt(e.price),n.props.onSubmit(e)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"ui form error"},r.a.createElement(x.a,{name:"name",component:this.renderInput,label:"Name : "}),r.a.createElement(x.a,{name:"price",component:this.renderInput,label:"Price: ",type:"number"}),r.a.createElement("button",{className:"ui green approve right button"},"Submit"))}}]),t}(a.Component),F=Object(_.a)({form:"ItemForm",validate:function(e){var t={};return e.name||(t.name="Requite Value!"),e.price||(t.price="Requite Value!"),t}})(M),R=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){n.props.itemCreate(e)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(F,{onSubmit:this.onSubmit})}}]),t}(a.Component),L=Object(h.b)(null,{itemCreate:function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n,a){var r,c,i;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.userId,c=C({},e,{userId:r,id:I()()}),j.database().ref("items/".concat(c.id)).set(c),t.next=5,j.database().ref("items/".concat(c.id)).once("value").then((function(e){return e.val()}));case 5:i=t.sent,n({type:"ITEM_CREATE",payload:i}),f.push("/shoppingcart");case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(R),H=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).id=n.props.match.params.id,n.onSubmit=function(e){n.props.itemEdit(n.id,e)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.itemFetch(this.props.match.params.id)}},{key:"render",value:function(){return this.props.item?r.a.createElement(F,{onSubmit:this.onSubmit,initialValues:k.a.pick(this.props.item,"name","price")}):"loading"}}]),t}(a.Component),G=Object(h.b)((function(e,t){return{item:e.items[t.match.params.id]}}),{itemFetch:P,itemEdit:function(e,t){return function(){var n=Object(g.a)(y.a.mark((function n(a){var r;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return j.database().ref("items/".concat(e)).update(t),n.next=4,j.database().ref("items/".concat(e)).once("value").then((function(e){return e.val()}));case 4:r=n.sent,a({type:"ITEM_EDIT",payload:r}),f.push("/shoppingcart");case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(H),U=function(e){return i.a.createPortal(r.a.createElement("div",{onClick:function(){return f.push("/")},className:"ui dimmer modals visible active"},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui standard modal visible active"},r.a.createElement("div",{className:"header"},e.header),r.a.createElement("div",{className:"content"}," ",e.content),r.a.createElement("div",{className:"actions"},e.actions))),document.querySelector("#modal"))},q=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).actions=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{to:"/shoppingcart",className:"ui button"},"Cancel"),r.a.createElement("button",{className:"ui button primary",onClick:function(){return n.props.itemDelete(n.props.match.params.id)}},"Delete"))},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.itemFetch(this.props.match.params.id)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(U,{actions:this.actions(),header:"Delete Item",content:"Do you want to delete   ".concat(this.props.item?this.props.item.name:"","?")}))}}]),t}(a.Component),J=Object(h.b)((function(e,t){return console.log(t.match.params.id),{item:e.items[t.match.params.id]}}),{itemFetch:P,itemDelete:function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.database().ref("items/".concat(e));case 2:t.sent.remove().then((function(){n({type:"ITEM_DELETE",payload:e})})).catch((function(e){console.log(e)})),f.push("/shoppingcart");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(q),V=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"view")}}]),t}(a.Component),B=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onAuthChange=function(){var e=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,n.props.signIn(n.auth.currentUser.get().getId());case 3:e.next=6;break;case 5:n.props.signOut();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onSignOutClick=function(){n.auth.signOut()},n.onSignInClick=function(){n.auth.signIn()},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",(function(){window.gapi.client.init({clientId:"590200662429-34jk1gcaifl8d9mhquo1u91r1rbga1nl.apps.googleusercontent.com",scope:"email"}).then((function(){e.auth=window.gapi.auth2.getAuthInstance(),e.onAuthChange(e.auth.isSignedIn.get()),e.auth.isSignedIn.listen(e.onAuthChange)}))}))}},{key:"renderAuthButton",value:function(){return null===this.props.isSignedIn?null:this.props.isSignedIn?r.a.createElement("button",{onClick:this.onSignOutClick,style:{marginTop:"3px"},className:"ui gray google button"},r.a.createElement("i",{className:"google icon"}),"Logout"):r.a.createElement("button",{onClick:this.onSignInClick,className:"ui red google button"},r.a.createElement("i",{className:"google icon"}),"Login With Google")}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderAuthButton())}}]),t}(a.Component),K=Object(h.b)((function(e){return{isSignedIn:e.auth.isSignedIn}}),{signIn:function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SIGN_IN",payload:e}),n(E());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},signOut:function(){return{type:"SIGN_OUT"}}})(B),$=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.props.cartFetch()}},{key:"render",value:function(){return r.a.createElement("div",{className:"ui teal four item inverted menu"},r.a.createElement(b.a,{to:"/shoppingcart/",className:"active item"},"Home"),r.a.createElement(b.a,{to:"/shoppingcart/items/new",className:"item"},"Create Item"),r.a.createElement(b.a,{id:"cart",to:"/shoppingcart/cart/view",className:"item"},"Cart ",r.a.createElement("i",{className:" icon shopping cart"}),r.a.createElement("span",{className:"badge"}," ( ".concat(Object.values(this.props.cart).length,")"))),r.a.createElement(K,{className:"item"}))}}]),t}(r.a.Component),z=Object(h.b)((function(e){return{cart:e.cart}}),{cartFetch:E})($),W=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(c)))).renderList=function(){return Object.values(n.props.cart).map((function(e){return r.a.createElement("div",{key:e.id,className:"item"},e.name,"/$",e.price,r.a.createElement("div",{className:" ui buttons right floated"},r.a.createElement("button",{onClick:function(){return n.props.cartRemove(e.id)},className:"ui negative button right floated"},"Remove")))}))},n.total=function(){var e=0;return Object.values(n.props.cart).map((function(t){return e+=parseInt(t.price)})),e},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.cartFetch()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"ui celled list"},this.renderList()),r.a.createElement("div",{className:"ui right floated"},r.a.createElement("h3",null," Total: $",this.total()),r.a.createElement("button",{className:"fluid ui button positive "},"Pay")))}}]),t}(a.Component),X=Object(h.b)((function(e){return{cart:e.cart}}),{cartRemove:function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n,a){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=a().auth.userId,j.database().ref("/cart/Cart-".concat(r,"/")).child(e).remove(),n({type:"CART_REMOVE",payload:e});case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},cartFetch:E})(W),Y=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui container"},r.a.createElement(m.b,{history:f},r.a.createElement("div",null,r.a.createElement(z,null),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/shoppingcart/",exact:!0,component:A}),r.a.createElement(m.a,{path:"/shoppingcart/items/new",exact:!0,component:L}),r.a.createElement(m.a,{path:"/shoppingcart/items/edit/:id",exact:!0,component:G}),r.a.createElement(m.a,{path:"/shoppingcart/items/delete/:id",exact:!0,component:J}),r.a.createElement(m.a,{path:"/shoppingcart/items/view/:id",exact:!0,component:V}),r.a.createElement(m.a,{path:"/shoppingcart/cart/view",exact:!0,component:X})))))}}]),t}(r.a.Component),Q=n(8),Z=n(111);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne={isSignedIn:null,userId:null},ae=n(236);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){Object(O.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue={},se=Object(Q.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return te({},e,{isSignedIn:!0,userId:t.payload});case"SIGN_OUT":return te({},e,{isSignedIn:!1,userId:null});default:return e}},form:ae.a,items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ITEM_CREATE":case"ITEM_EDIT":case"ITEM_FETCH":return ce({},e,Object(O.a)({},t.payload.id,t.payload));case"ITEMS_FETCH":return ce({},e,{},k.a.mapKeys(t.payload,"id"));case"ITEM_DELETE":return k.a.omit(e,t.payload);default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_ADD":return oe({},e,Object(O.a)({},t.payload.id,t.payload));case"CART_FETCH":return oe({},k.a.mapKeys(t.payload,"id"));case"CART_REMOVE":return k.a.omit(e,t.payload);default:return e}}}),le=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Q.d,pe=Object(Q.e)(se,le(Object(Q.a)(Z.a)));i.a.render(r.a.createElement(h.a,{store:pe},r.a.createElement(Y,null)),document.querySelector("#root"))}},[[113,1,2]]]);
//# sourceMappingURL=main.7b89774d.chunk.js.map