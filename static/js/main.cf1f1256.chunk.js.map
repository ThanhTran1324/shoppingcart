{"version":3,"sources":["history.js","apis/firebaseShoppingCart.js","actions/cartActions/index.js","actions/cartActions/type.js","actions/index.js","actions/types.js","components/SortAndFilter.js","components/ItemList.js","components/RenderButtonLoginAsGuestUser.js","components/LoginRequiteBanner.js","components/ItemForm.js","components/ItemNew.js","components/ItemEdit.js","components/Modal.js","components/ItemDelete.js","components/ItemView.js","components/Header.js","components/Auth.js","components/MyPaypalButton.js","components/CartView.js","components/ForGotPassword.js","components/App.js","reducers/authReducer.js","reducers/cartReducer.js","reducers/index.js","reducers/itemReducer.js","index.js"],"names":["createBrowserHistory","firebaseConnect","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","cartFetch","dispatch","getState","a","auth","userId","response","database","ref","once","then","dataSnapshot","val","type","payload","items","signIn","isAnonymous","NotificationManager","success","signInAsAnonymous","isSignedIn","errorMessage","signInAnonymously","catch","error","message","signOut","console","log","history","push","itemFetch","id","orderByChild","equalTo","snapshot","itemSorted","name","value","sortedItems","originalItems","_","Object","values","o","reverse","sort","b","price","createdTime","SortAndFilter","renderSelecter","input","label","option","className","onChange","handleChange","defaultValue","map","e","index","key","target","props","handleOnSearch","formValues","renderSearch","onSubmit","handleSubmit","style","width","placeholder","Field","component","this","Component","wrapper","connect","state","reduxForm","form","ItemList","renderAdmin","item","currentUserId","to","whiteSpace","addToCartHandler","cartAdd","shortString","str","num","length","slice","renderList","position","height","objectFit","src","images","alt","right","bottom","onClick","overflow","textTransform","color","fontSize","itemsFetch","keys","sortAndFilterFormValue","marginTop","searchform","SortAndFilterForm","set","RenderButtonLoginAsGuestUser","LoginRequiteBanner","banner","content","React","ItemForm","selectedFile","imageLink","uploadPercent","imageName","renderInput","meta","confirmError","touched","errorClassName","renderImageInput","fileSelectedHandler","fileUploadHandler","tabIndex","parseFloat","toFixed","convertImage","reader","FileReader","readAsDataURL","size","onload","event","img","Image","result","el","elem","document","createElement","scaleFactor","ctx","getContext","drawImage","srcEncoded","canvas","toDataURL","binary","atob","split","array","i","charCodeAt","setState","Blob","Uint8Array","files","getElementById","disabled","classList","add","randomImagePrefix","Math","floor","random","preventDefault","filename","uploadTask","storage","put","on","bytesTransferred","totalBytes","getDownloadURL","downloadURL","formValue","date","Date","getTime","validate","ItemNew","itemCreate","newItem","uuidv4","ItemEdit","match","params","itemEdit","initialValues","pick","ownProps","update","Modal","ReactDOM","createPortal","stopPropagation","header","actions","querySelector","ItemDelete","Fragment","itemDelete","remove","imageUrl","refFromURL","delete","ItemView","Header","componentDidMount","analytics","onAuthStateChanged","user","uid","renderCartBadge","number","cart","renderAuthButton","Auth","autoComplete","showVerifyPassword","credential","EmailAuthProvider","email","password","currentUser","linkWithCredential","usercred","createUserWithEmailAndPassword","errorCode","code","signInWithEmailAndPassword","renderErrorFromServer","googleLogin","provider","GoogleAuthProvider","signInWithPopup","renderVerifyPassword","renderForgetPassword","SignInSignUpSwitch","cursor","componentWrapup","verifyPassword","MyPaypalButton","paypalOptions","clientId","intent","buttonStyles","layout","shape","amount","CartView","total","float","cartRemove","renderTotal","totalprice","parseInt","countTotal","renderWarningPanelForlAnonymoust","justifyContent","description","child","ForGotPassword","componentWillMount","marginLeft","sendPasswordResetEmail","innerHTML","App","path","exact","INTIAL_STATE","initialState","combineReducers","action","formReducer","mapKeys","omit","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render"],"mappings":"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","file":"static/js/main.cf1f1256.chunk.js","sourcesContent":["import { createBrowserHistory } from \"history\";\r\n\r\nexport default createBrowserHistory();\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\nimport \"firebase/database\";\r\nimport \"firebase/analytics\";\r\n\r\nvar config = {\r\n  apiKey: process.env.REACT_APP_API_1,\r\n  authDomain: process.env.REACT_APP_API_2,\r\n  databaseURL: process.env.REACT_APP_API_3,\r\n  projectId: process.env.REACT_APP_API_4,\r\n  storageBucket: process.env.REACT_APP_API_5,\r\n  messagingSenderId: process.env.REACT_APP_API_6,\r\n  appId: process.env.REACT_APP_API_7,\r\n  measurementId: process.env.REACT_APP_API_8,\r\n};\r\n// Initialize Firebase\r\n\r\nexport const firebaseConnect = firebase.initializeApp(config);\r\n","import { CART_ADD, CART_FETCH, CART_REMOVE, CART_CLEAN } from \"./type\";\r\n\r\nimport { firebaseConnect } from \"../../apis/firebaseShoppingCart\";\r\n//import history from \"../../history\";\r\nimport { NotificationManager } from \"react-notifications\";\r\nexport const cartAdd = (item) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  if (userId) {\r\n    //for Logined User\r\n    NotificationManager.success(\r\n      \"You have added a new Item!\",\r\n      \"Successful!\",\r\n      2000\r\n    );\r\n    await firebaseConnect\r\n      .database()\r\n      .ref(`/cart/Cart-${userId}/${item.id}`)\r\n      .set(item);\r\n\r\n    dispatch({\r\n      type: CART_ADD,\r\n      payload: item,\r\n    });\r\n  }\r\n};\r\n\r\nexport const cartFetch = () => async (dispatch, getState) => {\r\n  const userId = await getState().auth.userId;\r\n  let response = {};\r\n  if (userId !== null) {\r\n    response = await firebaseConnect\r\n      .database()\r\n      .ref(`/cart/Cart-${userId}`)\r\n      .once(\"value\")\r\n      .then(function (dataSnapshot) {\r\n        return dataSnapshot.val();\r\n      });\r\n    dispatch({\r\n      type: CART_FETCH,\r\n      payload: response,\r\n    });\r\n  }\r\n};\r\n\r\nexport const cartRemove = (id) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  if (userId) {\r\n    firebaseConnect\r\n      .database()\r\n      .ref(`/cart/Cart-${userId}/`)\r\n      .child(id) //id of child\r\n      .remove();\r\n\r\n    dispatch({\r\n      type: CART_REMOVE,\r\n      payload: id,\r\n    });\r\n  }\r\n};\r\nexport const cartClean = () => {\r\n  return {\r\n    type: CART_CLEAN,\r\n  };\r\n};\r\n","export const CART_ADD = \"CART_ADD\";\r\nexport const CART_FETCH = \"CART_FETCH\";\r\nexport const CART_REMOVE = \"CART_REMOVE\";\r\nexport const CART_CLEAN = \"CART_CLEAN\";\r\n","import {\r\n  SIGN_IN,\r\n  SIGN_OUT,\r\n  ITEM_CREATE,\r\n  ITEMS_FETCH,\r\n  ITEM_DELETE,\r\n  ITEM_FETCH,\r\n  ITEM_EDIT,\r\n  ITEM_SORTED,\r\n} from \"./types\";\r\nimport { cartClean } from \"./cartActions/\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { firebaseConnect } from \"../apis/firebaseShoppingCart\";\r\nimport history from \"../history\";\r\nimport firebase from \"firebase\";\r\n// import { cartAdd } from \"./cartActions\";\r\n// import { CART_CLEAN } from \"./cartActions/type\";\r\nimport * as _ from \"lodash\";\r\nimport { NotificationManager } from \"react-notifications\";\r\n// var data = firebaseConnect.database().ref(\"/\");\r\n\r\nlet items = firebaseConnect.database().ref(\"items\");\r\n\r\nexport const signIn = (userId, isAnonymous) => async (dispatch) => {\r\n  if (isAnonymous)\r\n    NotificationManager.success(\r\n      \"Please Upgrade To Permanent User To Have Better Service !\",\r\n      \"WelCome Back\",\r\n      2000\r\n    );\r\n  else NotificationManager.success(\"Login Success\", \"Success\", 2000);\r\n  await dispatch({\r\n    type: SIGN_IN,\r\n    payload: { userId, isAnonymous },\r\n  });\r\n};\r\n\r\nexport const signInAsAnonymous = () => async (dispatch, getState) => {\r\n  if (!getState().auth.isSignedIn) {\r\n    var errorMessage = null;\r\n    //if user is not login so create new anonymous user\r\n    await firebaseConnect\r\n      .auth()\r\n      .signInAnonymously()\r\n      .catch((error) => {\r\n        errorMessage = error.message;\r\n        NotificationManager.error(errorMessage, \"Error\", 2000);\r\n      });\r\n  }\r\n};\r\n\r\nexport const signOut = () => (dispatch) => {\r\n  firebase\r\n    .auth()\r\n    .signOut()\r\n    .then(() => {\r\n      NotificationManager.success(\"\", \"Logout Successful\", 2000);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n      NotificationManager.error(error.errorMessage, \"Error\", 2000);\r\n    });\r\n\r\n  dispatch({ type: SIGN_OUT });\r\n  dispatch(cartClean());\r\n  history.push(\"/shoppingcart\");\r\n};\r\n\r\nexport const itemCreate = (formValues) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  const newItem = {\r\n    ...formValues,\r\n    userId: userId,\r\n    id: uuidv4(),\r\n  };\r\n  firebaseConnect.database().ref(`items/${newItem.id}`).set(newItem);\r\n\r\n  const response = await firebaseConnect\r\n    .database()\r\n    .ref(`items/${newItem.id}`)\r\n    .once(\"value\")\r\n    .then((snapshot) => {\r\n      return snapshot.val();\r\n    });\r\n  if (response) NotificationManager.success(\"\", \"New Item Created\", 2000);\r\n  dispatch({\r\n    type: ITEM_CREATE,\r\n    payload: response,\r\n  });\r\n  history.push(\"/shoppingcart\");\r\n};\r\n\r\nexport const itemsFetch = () => async (dispatch) => {\r\n  let response = await items.once(\"value\").then(function (snapshot) {\r\n    return snapshot.val();\r\n  });\r\n  dispatch({\r\n    type: ITEMS_FETCH,\r\n    payload: response,\r\n  });\r\n  dispatch(itemSorted(\"time\", \"1\")); //sort item as new first after fetch\r\n};\r\n//items.set(_.keyBy(response, \"id\")); convert array to Object to fix database\r\n\r\nexport const itemFetch = (id) => async (dispatch) => {\r\n  // let response = await items.once(\"value\").then(snapshot => {\r\n  //   return snapshot.val()[id]; //access to Object and get value with key = id\r\n  // });\r\n  let response = await items\r\n    .orderByChild(\"id\")\r\n    .equalTo(id)\r\n    .once(\"value\")\r\n    .then(function (snapshot) {\r\n      return snapshot.val();\r\n    });\r\n  dispatch({\r\n    type: ITEM_FETCH,\r\n    payload: response[id],\r\n  });\r\n};\r\nexport const itemImageDelete = (imageUrl) => {\r\n  firebaseConnect\r\n    .storage()\r\n    .refFromURL(imageUrl)\r\n    .delete()\r\n    .then(function () {\r\n      console.log(\"image deleted\");\r\n    })\r\n    .catch(function () {\r\n      console.log(\"unable to delete image\");\r\n    });\r\n};\r\nexport const itemDelete = (id) => async (dispatch, getState) => {\r\n  const deleteItem = await firebaseConnect.database().ref(`items/${id}`);\r\n  deleteItem\r\n    .remove()\r\n    .then(() => {\r\n      if (getState().items[id].images)\r\n        itemImageDelete(getState().items[id].images);\r\n      NotificationManager.success(\"\", \"Deleted\", 2000);\r\n      dispatch({\r\n        type: ITEM_DELETE,\r\n        payload: id,\r\n      });\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n      NotificationManager.error(error.errorMessage, \"Error\", 2000); // need fix delete error\r\n    });\r\n\r\n  history.push(\"/shoppingcart\");\r\n};\r\nexport const itemEdit = (id, formValues) => async (dispatch) => {\r\n  let editItem = firebaseConnect.database().ref(`items/${id}`);\r\n  editItem.update(formValues);\r\n  const response = await firebaseConnect\r\n    .database()\r\n    .ref(`items/${id}`)\r\n    .once(\"value\")\r\n    .then((snapshot) => {\r\n      return snapshot.val();\r\n    });\r\n  dispatch({\r\n    type: ITEM_EDIT,\r\n    payload: response,\r\n  });\r\n  history.push(\"/shoppingcart\");\r\n};\r\n\r\nexport const itemSorted = (name, value) => (dispatch, getState) => {\r\n  //sortedItems is an array sent to reducer, reducer will convert to Object\r\n  // console.log(name, value);\r\n  let sortedItems = [];\r\n  let originalItems = getState().items;\r\n  switch (name) {\r\n    //sort by name\r\n    case \"name\":\r\n      if (value === \"0\") {\r\n        //sort from a to z\r\n        sortedItems = _.sortBy(Object.values(originalItems), [\r\n          function (o) {\r\n            return o.name;\r\n          },\r\n        ]);\r\n      } else {\r\n        //sort from z to a\r\n        sortedItems = _.sortBy(Object.values(originalItems), [\r\n          function (o) {\r\n            return o.name;\r\n          },\r\n        ]).reverse();\r\n      }\r\n      break;\r\n\r\n    //end sort by name\r\n    case \"price\":\r\n      if (value === \"0\") {\r\n        //sort from low price to hight price\r\n        sortedItems = Object.values(originalItems).sort(\r\n          (a, b) => a.price - b.price\r\n        );\r\n        console.log(\"low to high\");\r\n      } else {\r\n        //sort from high to low price\r\n        sortedItems = Object.values(originalItems)\r\n          .sort((a, b) => a.price - b.price)\r\n          .reverse();\r\n      }\r\n      break;\r\n    case \"time\":\r\n      if (value === \"0\") {\r\n        //sort from old to new\r\n        sortedItems = Object.values(originalItems).sort((a, b) => {\r\n          return a.createdTime - b.createdTime;\r\n        });\r\n      } else {\r\n        //sort from new to old\r\n        sortedItems = Object.values(originalItems)\r\n          .sort((a, b) => {\r\n            return a.createdTime - b.createdTime;\r\n          })\r\n          .reverse();\r\n      }\r\n      break;\r\n    // case \"searchByName\":\r\n    //   sortedItems = Object.values(originalItems).filter(e =>\r\n    //     e.name.match(value)\r\n    //   );\r\n    //   console.log(sortedItems.length === 0);\r\n    //   if (sortedItems.length === 0) {\r\n    //     console.log(\"no item\");\r\n    //     NotificationManager.warning(\"\", \"No Item Was found!\", 3000);\r\n    //     dispatch(itemsFetch());\r\n    //   }\r\n\r\n    //   break;\r\n    default:\r\n      console.log(\"no sort\");\r\n  }\r\n  dispatch({\r\n    type: ITEM_SORTED,\r\n    payload: sortedItems,\r\n  });\r\n};\r\n","export const SIGN_IN = \"SIGN_IN\";\r\nexport const SIGN_OUT = \"SIGN_OUT\";\r\nexport const ITEM_CREATE = \"ITEM_CREATE\";\r\nexport const ITEM_EDIT = \"ITEM_EDIT\";\r\nexport const ITEMS_FETCH = \"ITEMS_FETCH\";\r\nexport const ITEM_FETCH = \"ITEM_FETCH\";\r\nexport const ITEM_DELETE = \"ITEM_DELETE\";\r\nexport const ITEM_SORTED = \"ITEM_SORTED\";\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { itemSorted } from \"../actions/\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\n\r\nexport class SortAndFilter extends Component {\r\n  renderSelecter = ({ name, input, label, option }) => {\r\n    return (\r\n      <div className=\"ui form column\">\r\n        {/* Sort Dropdown */}\r\n\r\n        <select {...input} onChange={this.handleChange} className=\"ui dropdown\">\r\n          <option value=\"-1\" defaultValue>\r\n            {label}\r\n          </option>\r\n          {option.map((e, index) => {\r\n            return (\r\n              <option value={index} key={index}>\r\n                {e}\r\n              </option>\r\n            );\r\n            // value = 0 => low to high and old to new\r\n            // value = 1 => high to old and new to old\r\n          })}\r\n        </select>\r\n        {/* End Sort  Dropdown */}\r\n      </div>\r\n    );\r\n  };\r\n  handleChange = e => {\r\n    if (e.target) {\r\n      this.props.itemSorted(e.target.name, e.target.value);\r\n    }\r\n  };\r\n\r\n  handleOnSearch = formValues => {\r\n    // console.log(formValues);\r\n    // this.props.itemSorted(\"searchByName\", formValues.search);\r\n  };\r\n  renderSearch = ({ input, name }) => {\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit(this.handleOnSearch)}>\r\n        <div className=\"ui input \" style={{ width: \"100%\" }}>\r\n          <input {...input} type=\"text\" placeholder=\"Search...\"></input>{\" \"}\r\n          <button type=\"submit\" className=\"ui button my-search-button\">\r\n            <i className=\"search icon\"></i>\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  };\r\n  render() {\r\n    // console.log(this.props);\r\n    return (\r\n      <div className=\"ui container\">\r\n        <div className=\"ui grid\">\r\n          {/* here */}\r\n          {/* <div className=\"three wide column\">\r\n            <Field name=\"search\" component={this.renderSearch}></Field>\r\n          </div> */}\r\n          <div className=\"three column row\">\r\n            <Field\r\n              name=\"price\"\r\n              label=\"Price\"\r\n              component={this.renderSelecter}\r\n              option={[\"Low To High\", \"High To Low\"]}\r\n            ></Field>\r\n\r\n            <Field\r\n              name=\"time\"\r\n              label=\"Time\"\r\n              component={this.renderSelecter}\r\n              option={[\"Old To New\", \"New To Old\"]}\r\n            ></Field>\r\n\r\n            <Field\r\n              name=\"name\"\r\n              label=\"Name\"\r\n              component={this.renderSelecter}\r\n              option={[\"A-Z\", \"Z-A\"]}\r\n            ></Field>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    items: state.items\r\n  };\r\n};\r\nconst wrapper = connect(mapStateToProps, { itemSorted })(SortAndFilter);\r\nexport default reduxForm({\r\n  form: \"SortAndFilterForm\"\r\n})(wrapper);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { itemsFetch, signInAsAnonymous } from \"../actions\";\r\nimport { cartAdd } from \"../actions/cartActions\";\r\nimport SortAndFilter from \"./SortAndFilter\";\r\n\r\nexport class ItemList extends Component {\r\n  componentDidMount() {\r\n    this.props.itemsFetch();\r\n  }\r\n  renderAdmin = item => {\r\n    if (item.userId === this.props.currentUserId)\r\n      return (\r\n        <div>\r\n          <hr></hr>\r\n          <div className=\"ui large two buttons\">\r\n            <Link\r\n              to={`/shoppingcart/items/delete/${item.id}`}\r\n              className=\"ui inverted red button \"\r\n              style={{ whiteSpace: \"nowrap\" }}\r\n            >\r\n              <i className=\"icon trash alternate\" />\r\n              Delete\r\n            </Link>\r\n            <div className=\"or\"></div>\r\n            <Link\r\n              to={`/shoppingcart/items/edit/${item.id}`}\r\n              className=\"ui inverted blue button \"\r\n            >\r\n              <i className=\"edit icon\"></i>Edit\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      );\r\n  };\r\n  addToCartHandler = item => {\r\n    this.props.signInAsAnonymous();\r\n    this.props.cartAdd(item);\r\n  };\r\n  shortString = (str, num) => {\r\n    if (str.length <= num) return str;\r\n    return str.slice(0, num) + \"...\";\r\n  };\r\n  renderList = items => {\r\n    return items.map(item => {\r\n      return (\r\n        <div className=\"card  \" key={item.id}>\r\n          <div\r\n            className=\"blurring dimmable image \"\r\n            style={{ position: \"relative\" }}\r\n          >\r\n            <img\r\n              className=\"imageCartList  \"\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"290px\",\r\n                objectFit: \"fill\"\r\n              }}\r\n              src={\r\n                !item.images\r\n                  ? \"https://firebasestorage.googleapis.com/v0/b/shoppingcart-f5bc6.appspot.com/o/donut.jpg?alt=media&token=dae66b8a-f9dd-451b-b13d-3ff658e6dd28\"\r\n                  : item.images\r\n              }\r\n              alt=\"hinh\"\r\n            ></img>\r\n            <button\r\n              style={{ position: \"absolute\", right: \"-3px\", bottom: \"0px\" }}\r\n              className=\"ui button primary myAddButton\"\r\n              onClick={() => this.addToCartHandler(item)}\r\n            >\r\n              <i className=\"shopping cart icon\"></i>\r\n              Add\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"content\">\r\n            {/* <div className=\" ui buttons right floated\"> */}\r\n\r\n            {/* </div> */}\r\n            <div\r\n              className=\"header\"\r\n              style={{\r\n                overflow: \"hidden\",\r\n                textTransform: \"capitalize\",\r\n                height: \"44px\"\r\n              }}\r\n            >\r\n              {this.shortString(item.name, 50)}\r\n            </div>\r\n            <div className=\"meta\">\r\n              <span\r\n                className=\"price\"\r\n                style={{ color: \"#FF9200\", fontSize: \"18px\" }}\r\n              >\r\n                ${item.price}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"extra content\">{this.renderAdmin(item)}</div>\r\n          </div>\r\n        </div>\r\n\r\n        // <div key={item.id} className=\"item\">\r\n        //   {item.name}/${item.price}\r\n        //   <div className=\" ui buttons right floated\">\r\n        //     {this.renderAdmin(item)}\r\n        //     <button\r\n        //       className=\"ui button primary\"\r\n        //       onClick={() => this.props.cartAdd(item)}\r\n        //     >\r\n        //       <i className=\"shopping cart icon\"></i>\r\n        //       Add to cart\r\n        //     </button>\r\n        //   </div>\r\n        // </div>\r\n      );\r\n    });\r\n  };\r\n  render() {\r\n    // console.log(this.props.sortAndFilterFormValue);\r\n    if (\r\n      Object.keys(this.props.items).length === 0 &&\r\n      !this.props.sortAndFilterFormValue\r\n    ) {\r\n      return (\r\n        <div className=\"ui fluid container \">\r\n          <div className=\"ui segment\">\r\n            <div className=\"ui active dimmer\" style={{ height: \"100vh\" }}>\r\n              <div className=\"ui massive text loader\">Loading...</div>\r\n            </div>\r\n            <p></p>\r\n            <p></p>\r\n            <p></p>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else\r\n      return (\r\n        <div className=\"ui fluid container  \" style={{ marginTop: \"5px\" }}>\r\n          <SortAndFilter></SortAndFilter>\r\n          <div className=\"ui special cards centered\">\r\n            {this.renderList(Object.values(this.props.items))}\r\n          </div>\r\n        </div>\r\n      );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    items: state.items,\r\n    searchform: state.form.SortAndFilterForm,\r\n    currentUserId: state.auth.userId,\r\n    isSignedIn: state.auth.isSignedIn\r\n  };\r\n};\r\nexport default connect(mapStateToProps, {\r\n  itemsFetch,\r\n  cartAdd,\r\n  signInAsAnonymous\r\n})(ItemList);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { signInAsAnonymous } from \"../actions\";\r\nimport { Link } from \"react-router-dom\";\r\nexport class RenderButtonLoginAsGuestUser extends Component {\r\n  render() {\r\n    if (!this.props.isSignedIn)\r\n      //not login\r\n      return (\r\n        <button\r\n          onClick={this.props.signInAsAnonymous}\r\n          className=\"ui teal google button my-google-login\"\r\n        >\r\n          <i className=\"user secret icon\"></i>Login As Guest User\r\n        </button>\r\n      );\r\n    else if (this.props.isSignedIn && this.props.isAnonymous) {\r\n      //logined as guest\r\n      return (\r\n        <Link\r\n          to=\"/shoppingcart/login/\"\r\n          className=\"ui blue google button my-google-login\"\r\n        >\r\n          <i className=\"user secret icon\"></i>Upgrade to permanent user\r\n        </Link>\r\n      );\r\n    }\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isSignedIn: state.auth.isSignedIn,\r\n    isAnonymous: state.auth.isAnonymous\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { signInAsAnonymous })(\r\n  RenderButtonLoginAsGuestUser\r\n);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport RenderButtonLoginAsGuestUser from \"./RenderButtonLoginAsGuestUser\";\r\nclass LoginRequiteBanner extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"ui container\">\r\n        <div className=\"ui one column grid\">\r\n          <div className=\"column\">\r\n            <div className=\"ui raised segment\">\r\n              <p className=\"ui red ribbon label\">{this.props.banner}</p>\r\n              <p></p>\r\n              <div>\r\n                Please{\" \"}\r\n                {\r\n                  <Link className=\"ui teal button\" to=\"/shoppingcart/login\">\r\n                    Login\r\n                  </Link>\r\n                }\r\n                {this.props.content}\r\n                <RenderButtonLoginAsGuestUser />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null)(LoginRequiteBanner);\r\n","import React, { Component } from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { firebaseConnect } from \"../apis/firebaseShoppingCart\";\r\nimport { NotificationManager } from \"react-notifications\";\r\n// import axios from \"axios\";\r\nclass ItemForm extends Component {\r\n  state = {\r\n    selectedFile: null,\r\n    imageLink: null,\r\n    uploadPercent: 0,\r\n    imageName: null\r\n  };\r\n\r\n  renderInput = ({ input, meta, label, type }) => {\r\n    const confirmError = meta.error && meta.touched;\r\n    const errorClassName = `field ${confirmError ? `error` : ``}`;\r\n\r\n    return (\r\n      <div className={errorClassName}>\r\n        <label>\r\n          {label}\r\n          {`${confirmError ? \"Requited\" : \"\"}`}\r\n        </label>\r\n        <input {...input} type={type} />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderImageInput = ({ input, meta, label, uploadPercent }) => {\r\n    return (\r\n      <div className=\"field\">\r\n        <label>{label}</label>\r\n        <div>\r\n          <input type=\"file\" onChange={this.fileSelectedHandler}></input>\r\n\r\n          <div\r\n            onClick={this.fileUploadHandler}\r\n            className=\"ui labeled button\"\r\n            tabIndex=\"0\"\r\n          >\r\n            <div id=\"uploadButton\" className=\"ui button  \">\r\n              <i className=\"upload icon \"></i> Upload\r\n            </div>\r\n            <p className=\"ui basic label\">\r\n              {parseFloat(uploadPercent).toFixed(2)}%\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  convertImage = item => {\r\n    var resize_width = 600;\r\n    var reader = new FileReader();\r\n\r\n    //image turned to base64-encoded Data URI.\r\n    reader.readAsDataURL(item);\r\n    reader.name = item.name; //get the image's name\r\n    reader.size = item.size; //get the image's size\r\n    reader.onload = event => {\r\n      var img = new Image(); //create a image\r\n      img.src = event.target.result; //result is base64-encoded Data URI\r\n      img.name = event.target.name; //set name (optional)\r\n      img.size = event.target.size; //set size (optional)\r\n      img.onload = async el => {\r\n        var elem = document.createElement(\"canvas\"); //create a canvas\r\n\r\n        //scale the image to 600 (width) and keep aspect ratio\r\n        var scaleFactor = resize_width / el.target.width;\r\n        elem.width = resize_width;\r\n        elem.height = el.target.height * scaleFactor;\r\n\r\n        //draw in canvas\r\n        var ctx = elem.getContext(\"2d\");\r\n        ctx.drawImage(el.target, 0, 0, elem.width, elem.height);\r\n\r\n        //get the base64-encoded Data URI from the resize image\r\n        var srcEncoded = ctx.canvas.toDataURL(el.target, \"image/jpeg\", 0);\r\n        //convert uri to image\r\n        var binary = atob(srcEncoded.split(\",\")[1]);\r\n        var array = [];\r\n        for (var i = 0; i < binary.length; i++) {\r\n          array.push(binary.charCodeAt(i));\r\n        }\r\n        this.setState({\r\n          selectedFile: new Blob([new Uint8Array(array)], {\r\n            type: \"image/jpeg\"\r\n          })\r\n        });\r\n      };\r\n    };\r\n  };\r\n\r\n  fileSelectedHandler = event => {\r\n    if (event.target.files.length > 0) {\r\n      this.setState({ imageName: event.target.files[0].name });\r\n      this.convertImage(event.target.files[0]);\r\n      NotificationManager.success(\r\n        ` ${parseFloat(event.target.files[0].size / 1024 / 1024).toFixed(\r\n          2\r\n        )} MB `,\r\n        \"Converting Your Image\",\r\n        2000\r\n      );\r\n      document.getElementById(\"submitButton\").disabled = true; //disable submit button , wait for click upload\r\n      document.getElementById(\"uploadButton\").classList.add(\"green\");\r\n    }\r\n  };\r\n  fileUploadHandler = event => {\r\n    var randomImagePrefix = Math.floor(Math.random() * Math.floor(1000)); //to fix same image name\r\n    console.log(randomImagePrefix);\r\n    event.preventDefault();\r\n    var filename = this.state.imageName; //get file name\r\n    var storageRef = firebaseConnect\r\n      .storage()\r\n      .ref(`/images/` + randomImagePrefix + filename); //upload to image folder\r\n    var uploadTask = storageRef.put(this.state.selectedFile);\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      snapshot => {\r\n        //run during upload proccess\r\n        this.setState({\r\n          uploadPercent: (snapshot.bytesTransferred / snapshot.totalBytes) * 100\r\n        });\r\n      },\r\n      error => {\r\n        console.log(error);\r\n      },\r\n      () => {\r\n        uploadTask.snapshot.ref.getDownloadURL().then(downloadURL => {\r\n          // arrow function to use this.setState\r\n          this.setState({ imageLink: downloadURL });\r\n          document.getElementById(\"submitButton\").disabled = false;\r\n        });\r\n      }\r\n    );\r\n  };\r\n\r\n  onSubmit = formValue => {\r\n    //get time created of item\r\n    var date = new Date();\r\n    formValue.createdTime = date.getTime();\r\n    formValue.images = this.state.imageLink;\r\n    formValue.price = parseFloat(formValue.price);\r\n    this.props.onSubmit(formValue);\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"ui container\">\r\n        <form\r\n          onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n          className=\"ui form error\"\r\n        >\r\n          <Field name=\"name\" component={this.renderInput} label=\"Name : \" />\r\n          <Field\r\n            name=\"price\"\r\n            component={this.renderInput}\r\n            label=\"Price: \"\r\n            type=\"number\"\r\n          />\r\n\r\n          {/* Upload item pictures */}\r\n          <Field\r\n            name=\"images\"\r\n            component={this.renderImageInput}\r\n            label=\"Images: \"\r\n            uploadPercent={this.state.uploadPercent}\r\n          />\r\n\r\n          <button id=\"submitButton\" className=\"ui green approve right button\">\r\n            Submit\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = formValue => {\r\n  const error = {};\r\n  if (!formValue.name) error.name = \"Requite Value!\";\r\n  if (!formValue.price) error.price = \"Requite Value!\";\r\n\r\n  return error;\r\n};\r\n\r\nexport default reduxForm({\r\n  form: \"ItemForm\",\r\n  validate\r\n})(ItemForm);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n// import { Link } from \"react-router-dom\";\r\n\r\nimport LoginRequiteBanner from \"./LoginRequiteBanner\";\r\nimport { itemCreate } from \"../actions\";\r\nimport ItemForm from \"./ItemForm\";\r\n\r\nclass ItemNew extends Component {\r\n  onSubmit = formValue => {\r\n    this.props.itemCreate(formValue);\r\n  };\r\n\r\n  render() {\r\n    if (this.props.isSignedIn && !this.props.isAnonymous)\r\n      return <ItemForm onSubmit={this.onSubmit}></ItemForm>;\r\n    else if (this.props.isAnonymous)\r\n      return (\r\n        <LoginRequiteBanner\r\n          banner=\"Please Login\"\r\n          content={`You Are Shopping As Guest User!\r\n        Please Login To Have Better Service.`}\r\n        ></LoginRequiteBanner>\r\n      );\r\n    else {\r\n      return (\r\n        <LoginRequiteBanner\r\n          banner=\"Please Login\"\r\n          content=\"To Start Selling\"\r\n        ></LoginRequiteBanner>\r\n      );\r\n    }\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isSignedIn: state.auth.isSignedIn,\r\n    isAnonymous: state.auth.isAnonymous\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { itemCreate })(ItemNew);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\n\r\nimport ItemForm from \"./ItemForm\";\r\n\r\nimport { itemFetch, itemEdit } from \"../actions\";\r\nclass ItemEdit extends Component {\r\n  componentDidMount() {\r\n    this.props.itemFetch(this.props.match.params.id);\r\n\r\n    //fix createdTime of item\r\n    // Object.values(this.props.items).map(item => {\r\n    //   if (!item.createdTime) {\r\n    //     var date = new Date();\r\n    //     var TimeInMiliSecond = date.getTime();\r\n    //     var newItem = { ...item, createdTime: TimeInMiliSecond };\r\n    //     this.props.itemEdit(newItem.id, newItem);\r\n    //     console.log(\"edited\");\r\n    //   }\r\n    // });\r\n\r\n    // add createdTime to Database\r\n    // Object.values(this.props.items).map(item => {\r\n    //   var date = new Date();\r\n    //   var TimeInMiliSecond = date.getTime();\r\n    //   var newItem = { ...item, createdTime: TimeInMiliSecond };\r\n    //   this.props.itemEdit(newItem.id, newItem);\r\n    //   console.log(\"edited\");\r\n    // });\r\n  }\r\n\r\n  id = this.props.match.params.id;\r\n\r\n  onSubmit = formValues => {\r\n    this.props.itemEdit(this.id, formValues);\r\n  };\r\n  render() {\r\n    if (this.props.item)\r\n      return (\r\n        <ItemForm\r\n          onSubmit={this.onSubmit}\r\n          initialValues={_.pick(this.props.item, \"name\", \"price\")}\r\n        ></ItemForm>\r\n      );\r\n    else return \"loading\";\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    item: state.items[ownProps.match.params.id],\r\n    items: state.items\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { itemFetch, itemEdit })(ItemEdit);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport history from \"../history\";\r\nconst Modal = props => {\r\n  return ReactDOM.createPortal(\r\n    <div\r\n      onClick={() => history.push(\"/\")}\r\n      className=\"ui dimmer modals visible active\"\r\n    >\r\n      <div\r\n        onClick={e => e.stopPropagation()}\r\n        className=\"ui standard modal visible active\"\r\n      >\r\n        <div className=\"header\">{props.header}</div>\r\n        <div className=\"content\"> {props.content}</div>\r\n        <div className=\"actions\">{props.actions}</div>\r\n      </div>\r\n    </div>,\r\n    document.querySelector(\"#modal\")\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Component } from \"react\";\r\nimport Modal from \"./Modal\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { itemFetch, itemDelete } from \"../actions\";\r\nclass ItemDelete extends Component {\r\n  componentDidMount() {\r\n    this.props.itemFetch(this.props.match.params.id);\r\n  }\r\n  actions = () => {\r\n    return (\r\n      <React.Fragment>\r\n        <Link to=\"/shoppingcart\" className=\"ui button\">\r\n          Cancel\r\n        </Link>\r\n        <button\r\n          className=\"ui button primary\"\r\n          onClick={() => this.props.itemDelete(this.props.match.params.id)}\r\n        >\r\n          Delete\r\n        </button>\r\n      </React.Fragment>\r\n    );\r\n  };\r\n  render() {\r\n    //console.log(this.props.item);\r\n    return (\r\n      <div>\r\n        <Modal\r\n          actions={this.actions()}\r\n          header=\"Delete Item\"\r\n          content={`Do you want to delete   ${\r\n            this.props.item ? this.props.item.name : \"\"\r\n          }?`}\r\n        ></Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    item: state.items[ownProps.match.params.id]\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { itemFetch, itemDelete })(ItemDelete);\r\n","import React, { Component } from \"react\";\r\n\r\nexport class ItemView extends Component {\r\n  render() {\r\n    return <div>view</div>;\r\n  }\r\n}\r\n\r\nexport default ItemView;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { firebaseConnect } from \"../apis/firebaseShoppingCart\";\r\nimport { cartFetch } from \"../actions/cartActions\";\r\nimport { signIn, signOut } from \"../actions/\";\r\nclass Header extends React.Component {\r\n  componentDidMount = async () => {\r\n    firebaseConnect.analytics();\r\n    await firebaseConnect.auth().onAuthStateChanged(user => {\r\n      if (user) {\r\n        this.props.signIn(user.uid, user.isAnonymous);\r\n        this.props.cartFetch();\r\n      }\r\n    });\r\n  };\r\n  renderCartBadge = () => {\r\n    let number = \"0\";\r\n\r\n    if (this.props.cart) number = Object.values(this.props.cart).length;\r\n    return (\r\n      <div>\r\n        Cart <i className=\" icon shopping cart\" />\r\n        <span className=\"badge\">{` ( ${number})`}</span>\r\n      </div>\r\n    );\r\n  };\r\n  renderAuthButton = () => {\r\n    if (this.props.isSignedIn && !this.props.isAnonymous)\r\n      return (\r\n        <Link to=\"/shoppingcart\" onClick={this.props.signOut} className=\"item \">\r\n          Logout\r\n        </Link>\r\n      );\r\n    else\r\n      return (\r\n        <Link to=\"/shoppingcart/login/\" className=\"item\">\r\n          Login\r\n        </Link>\r\n      );\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"ui container\">\r\n        <div className=\"ui teal four item inverted menu\">\r\n          <Link to=\"/shoppingcart/\" className=\" item\">\r\n            Home\r\n          </Link>\r\n          <Link to=\"/shoppingcart/items/new\" className=\"item\">\r\n            Create Item\r\n          </Link>\r\n          <Link id=\"cart\" to=\"/shoppingcart/cart/view\" className=\"item\">\r\n            {this.renderCartBadge()}\r\n          </Link>\r\n          {this.renderAuthButton()}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    cart: state.cart,\r\n    isSignedIn: state.auth.isSignedIn,\r\n    isAnonymous: state.auth.isAnonymous\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { cartFetch, signIn, signOut })(Header);\r\n","import React, { Component } from \"react\";\r\nimport { firebaseConnect } from \"../apis/firebaseShoppingCart\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n// import firebaseui from \"firebaseui\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./auth.css\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { connect } from \"react-redux\";\r\nimport { signIn, signOut } from \"../actions\";\r\nimport { NotificationManager } from \"react-notifications\";\r\nimport history from \"../history\";\r\n// import GoogleAuth from \"./GoogleAuth\";\r\n\r\nclass Auth extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: \"\",\r\n      showVerifyPassword: false,\r\n    };\r\n  }\r\n\r\n  renderInput = ({ input, meta, label, type }) => {\r\n    const confirmError = meta.error && meta.touched;\r\n    const errorClassName = `field textbox ${confirmError ? `error` : ``}`;\r\n    return (\r\n      <div className={errorClassName}>\r\n        <label>\r\n          {label}\r\n          {`${confirmError ? meta.error : \"\"}`}\r\n        </label>\r\n        <input {...input} type={type} autoComplete={input.name} />\r\n      </div>\r\n    );\r\n  };\r\n  onSubmit = (formValue) => {\r\n    //--------Log In--------\r\n    if (!this.state.showVerifyPassword) {\r\n      //Login\r\n      firebaseConnect\r\n        .auth()\r\n        .signInWithEmailAndPassword(formValue.email, formValue.password)\r\n        .then((result) => {\r\n          this.setState({ error: \"Login Success\" });\r\n          history.push(\"/shoppingcart\");\r\n        })\r\n        .catch((error) => {\r\n          // Handle Errors here.\r\n          var errorCode = error.code;\r\n          this.setState({ error: errorCode });\r\n        });\r\n    }\r\n    //--------Sign Up--------\r\n    else {\r\n      if (this.props.isSignedIn && this.props.isAnonymous) {\r\n        //merge anonymous user and new user\r\n        var credential = firebaseConnect.auth.EmailAuthProvider.credential(\r\n          formValue.email,\r\n          formValue.password\r\n        );\r\n        // console.log(credential);\r\n        firebaseConnect\r\n          .auth()\r\n          .currentUser.linkWithCredential(credential)\r\n          .then(\r\n            function (usercred) {\r\n              NotificationManager.success(\r\n                `Anonymous account successfully upgraded `,\r\n                \"Successful!\",\r\n                2000\r\n              );\r\n              history.push(\"/shoppingcart\");\r\n              // console.log(\"Anonymous account successfully upgraded\");\r\n            },\r\n            function (error) {\r\n              NotificationManager.error(error.message, \"Error!\", 2000);\r\n              // console.log(\"Error upgrading anonymous account\", );\r\n            }\r\n          );\r\n      } else {\r\n        //Create User\r\n        firebaseConnect\r\n          .auth()\r\n          .createUserWithEmailAndPassword(formValue.email, formValue.password)\r\n          .then((result) => {\r\n            history.push(`/shoppingcart`);\r\n          })\r\n          .catch((error) => {\r\n            //Handle Erros here\r\n            var errorCode = error.code;\r\n            this.setState({ error: errorCode });\r\n          });\r\n      }\r\n      //notificateModal\r\n    }\r\n  };\r\n  renderErrorFromServer = () => {\r\n    // console.log(this.state.error);\r\n    switch (this.state.error) {\r\n      case \"auth/user-not-found\":\r\n      case \"auth/wrong-password\":\r\n        return <div>Wrong User or Password</div>;\r\n      default:\r\n        return <div>{this.state.error}</div>;\r\n    }\r\n  };\r\n  googleLogin = () => {\r\n    var provider = new firebase.auth.GoogleAuthProvider();\r\n    firebaseConnect\r\n      .auth()\r\n      .signInWithPopup(provider)\r\n      .then(function (result) {\r\n        // This gives you a Google Access Token. You can use it to access the Google API.\r\n        // var token = result.credential.accessToken;\r\n        // // The signed-in user info.\r\n        // var user = result.user;\r\n        // ...\r\n        if (result.user) history.push(\"/shoppingcart\");\r\n      })\r\n      .catch(function (error) {\r\n        // Handle Errors here.\r\n        // var errorCode = error.code;\r\n        // var errorMessage = error.message;\r\n        // // The email of the user's account used.\r\n        // var email = error.email;\r\n        // // The firebase.auth.AuthCredential type that was used.\r\n        // var credential = error.credential;\r\n        // ...\r\n      });\r\n  };\r\n\r\n  renderVerifyPassword = () => {\r\n    if (this.state.showVerifyPassword) {\r\n      return (\r\n        <Field\r\n          type=\"password\"\r\n          name=\"verifyPassword\"\r\n          label=\"Verify Password\"\r\n          component={this.renderInput}\r\n        ></Field>\r\n      );\r\n    }\r\n  };\r\n  renderForgetPassword = () => {\r\n    if (!this.state.showVerifyPassword) {\r\n      return (\r\n        <Link\r\n          to=\"/shoppingcart/forgotpassword\"\r\n          className=\"my_forgot_password_text\"\r\n        >\r\n          Forgot Your Password\r\n        </Link>\r\n      );\r\n    }\r\n  };\r\n  SignInSignUpSwitch = (value) => {\r\n    this.setState({ showVerifyPassword: value });\r\n  };\r\n  render() {\r\n    console.log(firebaseConnect);\r\n    return (\r\n      <div className=\"ui  container \">\r\n        <div className=\"login-container\">\r\n          <div className=\"login-box\">\r\n            <div className=\"ui equal width center aligned padded grid\">\r\n              <div className=\"row\">\r\n                <div\r\n                  className=\" green column\"\r\n                  onClick={() => this.SignInSignUpSwitch(false)}\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  Log in\r\n                </div>\r\n                <div\r\n                  className=\"blue column\"\r\n                  onClick={() => this.SignInSignUpSwitch(true)}\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  Sign Up\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <form\r\n              onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n              className=\"ui form error\"\r\n            >\r\n              <Field\r\n                name=\"email\"\r\n                label=\"Email\"\r\n                component={this.renderInput}\r\n              ></Field>\r\n              <Field\r\n                type=\"password\"\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                component={this.renderInput}\r\n              ></Field>\r\n              {this.renderForgetPassword()}\r\n              {this.renderVerifyPassword()}\r\n              {this.renderErrorFromServer()}\r\n              <button\r\n                type=\"submit\"\r\n                className={`ui approve  button  my-login-button ${\r\n                  this.state.showVerifyPassword ? `blue` : `green`\r\n                }`}\r\n              >\r\n                {this.state.showVerifyPassword ? `Sign Up` : `Log In`}\r\n              </button>\r\n            </form>\r\n          </div>\r\n          <button\r\n            onClick={this.googleLogin}\r\n            className=\"ui red google button my-google-login\"\r\n          >\r\n            <i className=\"google icon\"></i>Google Login\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst validate = (formValue) => {\r\n  const error = {};\r\n  const mailformat = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\r\n  if (!formValue.email) error.email = \" Requite Value !\";\r\n  else if (!formValue.email.match(mailformat)) error.email = \" Wrong Format !\";\r\n  if (!formValue.password) error.password = \" Requite Value !\";\r\n\r\n  if (formValue.verifyPassword !== formValue.password)\r\n    error.verifyPassword = \" : Wrong Verify Password\";\r\n  if (!formValue.verifyPassword) error.verifyPassword = \" Requite Value !\";\r\n\r\n  return error;\r\n};\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isSignedIn: state.auth.isSignedIn,\r\n    isAnonymous: state.auth.isAnonymous,\r\n  };\r\n};\r\nconst componentWrapup = connect(mapStateToProps, {\r\n  signIn,\r\n  signOut,\r\n})(Auth);\r\n\r\nexport default reduxForm({\r\n  form: \"userForm\",\r\n  validate,\r\n})(componentWrapup);\r\n","/* eslint-disable react/react-in-jsx-scope */\r\nimport { PayPalButton } from \"react-paypal-button\";\r\nimport React from \"react\";\r\nexport default function MyPaypalButton(props) {\r\n  const paypalOptions = {\r\n    clientId: process.env.REACT_APP_API_PAYPALKEY,\r\n    intent: \"capture\"\r\n  };\r\n\r\n  const buttonStyles = {\r\n    layout: \"vertical\",\r\n    shape: \"rect\"\r\n  };\r\n  // console.log(props.price);\r\n  return (\r\n    <PayPalButton\r\n      paypalOptions={paypalOptions}\r\n      buttonStyles={buttonStyles}\r\n      amount={props.price}\r\n    />\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n// import { Link } from \"react-router-dom\";//import { Link } from \"react-router-dom\";\r\nimport { cartRemove, cartFetch } from \"../actions/cartActions\";\r\nimport MyPaypalButton from \"./MyPaypalButton\";\r\nimport LoginRequiteBanner from \"./LoginRequiteBanner\";\r\nexport class CartView extends Component {\r\n  state = {\r\n    total: 0\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.cartFetch();\r\n  }\r\n  renderList = items => {\r\n    return items.map(item => {\r\n      return (\r\n        <div key={item.id} className=\"item\">\r\n          {/* {item.name}/${item.price} */}\r\n          <div style={{ color: \"#FF9200\", float: \"right\" }}>/${item.price}</div>\r\n          <img\r\n            className=\"ui avatar image\"\r\n            src={\r\n              !item.images\r\n                ? \"https://firebasestorage.googleapis.com/v0/b/shoppingcart-f5bc6.appspot.com/o/donut.jpg?alt=media&token=dae66b8a-f9dd-451b-b13d-3ff658e6dd28\"\r\n                : item.images\r\n            }\r\n            alt={item.name}\r\n          ></img>\r\n\r\n          <div className=\"content\">\r\n            <div\r\n              className=\"header\"\r\n              style={{ color: \"#0167C0\", textTransform: \"capitalize\" }}\r\n            >\r\n              {item.name}\r\n            </div>\r\n            <button\r\n              onClick={() => this.props.cartRemove(item.id)}\r\n              className=\"ui  mini  button \"\r\n            >\r\n              Remove\r\n            </button>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n  renderTotal = () => {\r\n    var totalprice = 0;\r\n    if (this.props.cart !== null) {\r\n      Object.values(this.props.cart).map(item => {\r\n        return (totalprice += parseInt(item.price));\r\n      });\r\n    }\r\n\r\n    return (\r\n      <span style={{ color: \"#FF9200\", fontSize: \"30px\" }}> ${totalprice}</span>\r\n    );\r\n  };\r\n  countTotal = () => {\r\n    let totalprice = 0;\r\n    Object.values(this.props.cart).map(item => {\r\n      return (totalprice += parseInt(item.price));\r\n    });\r\n    return totalprice;\r\n  };\r\n  renderWarningPanelForlAnonymoust = () => {\r\n    if (this.props.isAnonymous)\r\n      return (\r\n        <LoginRequiteBanner\r\n          banner=\"Please Login\"\r\n          content={`You Are Shopping As Guest User!\r\n          Please Login To Have Better Service.`}\r\n        ></LoginRequiteBanner>\r\n      );\r\n  };\r\n  render() {\r\n    if (this.props.isSignedIn) {\r\n      if (this.props.cart !== null) {\r\n        return (\r\n          <div className=\"ui container\" style={{ justifyContent: \"center\" }}>\r\n            {this.renderWarningPanelForlAnonymoust()}\r\n            <div className=\"ui celled massive list\">\r\n              {this.renderList(Object.values(this.props.cart))}\r\n            </div>\r\n\r\n            <div className=\"ui container \" style={{ width: \"500px\" }}>\r\n              {\" \"}\r\n              <h3>\r\n                Subtotal ({Object.keys(this.props.cart).length} item):\r\n                {this.renderTotal()}\r\n              </h3>\r\n              {this.countTotal() !== 0 ? (\r\n                <MyPaypalButton\r\n                  description=\"item cui bap\"\r\n                  price={this.countTotal()}\r\n                ></MyPaypalButton>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </div>\r\n          </div>\r\n        );\r\n      } else return <div>Your Cart is empty !</div>;\r\n    } else {\r\n      return (\r\n        <LoginRequiteBanner\r\n          banner=\"Please Login\"\r\n          content=\"To Start Shopping\"\r\n        ></LoginRequiteBanner>\r\n      );\r\n    }\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    cart: state.cart,\r\n    isSignedIn: state.auth.isSignedIn,\r\n    isAnonymous: state.auth.isAnonymous\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { cartRemove, cartFetch })(CartView);\r\n","import React, { Component } from \"react\";\r\nimport { firebaseConnect } from \"../apis/firebaseShoppingCart\";\r\n\r\nimport LoginRequiteBanner from \"./LoginRequiteBanner\";\r\nexport class ForGotPassword extends Component {\r\n  componentWillMount = () => {};\r\n  content = () => {\r\n    return (\r\n      <div>\r\n        <h2>\r\n          Enter the email address for your account we'll email you a link to\r\n          reset your password.\r\n        </h2>\r\n        <p></p>\r\n        <form className=\"ui form\">\r\n          <div className=\"field\">\r\n            <label>Email address: </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"email\"\r\n              autoComplete=\"off\"\r\n              style={{ width: \"300px\" }}\r\n            ></input>\r\n            <button\r\n              onClick={this.handleSubmit}\r\n              className=\"ui interted teal button \"\r\n              style={{ marginLeft: \"5px\" }}\r\n            >\r\n              Sent Reset Password Email\r\n            </button>\r\n            <h2 id=\"output\"> </h2>\r\n          </div>\r\n        </form>\r\n        <p></p>\r\n      </div>\r\n    );\r\n  };\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    var auth = firebaseConnect.auth();\r\n    var email = document.getElementById(\"email\").value;\r\n    auth\r\n      .sendPasswordResetEmail(email)\r\n      .then(() => {\r\n        //email sent\r\n        console.log(\"email sent\");\r\n        document.getElementById(\"output\").innerHTML = \"Email has been sent!\";\r\n      })\r\n      .catch((error) => {\r\n        //an error happened\r\n        // console.log(error);\r\n        document.getElementById(\"output\").innerHTML = error;\r\n      });\r\n  };\r\n  render() {\r\n    return (\r\n      <LoginRequiteBanner\r\n        banner=\"Forgot your password ? \"\r\n        content={this.content()}\r\n      ></LoginRequiteBanner>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ForGotPassword;\r\n","import React from \"react\";\r\nimport { Router, Route, Switch } from \"react-router-dom\";\r\n\r\nimport history from \"../history\";\r\nimport ItemList from \"./ItemList\";\r\nimport ItemNew from \"./ItemNew\";\r\nimport ItemEdit from \"./ItemEdit\";\r\nimport ItemDelete from \"./ItemDelete\";\r\nimport ItemView from \"./ItemView\";\r\nimport Header from \"./Header\";\r\nimport Auth from \"./Auth\";\r\nimport CartView from \"./CartView\";\r\nimport ForGotPassword from \"./ForGotPassword\";\r\n\r\nimport \"react-notifications/lib/notifications.css\";\r\nimport { NotificationContainer } from \"react-notifications\";\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"ui fluid container\">\r\n        <NotificationContainer />\r\n        <Router history={history}>\r\n          <div>\r\n            <Header />\r\n            <Switch>\r\n              <Route path=\"/shoppingcart/\" exact component={ItemList}></Route>\r\n              <Route\r\n                path=\"/shoppingcart/items/new\"\r\n                exact\r\n                component={ItemNew}\r\n              ></Route>\r\n              <Route\r\n                path=\"/shoppingcart/items/edit/:id\"\r\n                exact\r\n                component={ItemEdit}\r\n              ></Route>\r\n              <Route\r\n                path=\"/shoppingcart/items/delete/:id\"\r\n                exact\r\n                component={ItemDelete}\r\n              ></Route>\r\n              <Route\r\n                path=\"/shoppingcart/items/view/:id\"\r\n                exact\r\n                component={ItemView}\r\n              ></Route>\r\n\r\n              <Route\r\n                path=\"/shoppingcart/cart/view\"\r\n                exact\r\n                component={CartView}\r\n              ></Route>\r\n              <Route path=\"/shoppingcart/login\" exact component={Auth}></Route>\r\n              <Route\r\n                path=\"/shoppingcart/forgotpassword\"\r\n                exact\r\n                component={ForGotPassword}\r\n              ></Route>\r\n            </Switch>\r\n          </div>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n","import { SIGN_IN, SIGN_OUT } from \"../actions/types\";\r\n\r\nconst INTIAL_STATE = {\r\n  isSignedIn: null,\r\n  userId: null,\r\n  isAnonymous: false\r\n};\r\nexport default (state = INTIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SIGN_IN:\r\n      return {\r\n        ...state,\r\n        isSignedIn: true,\r\n        isAnonymous: action.payload.isAnonymous,\r\n        userId: action.payload.userId\r\n      };\r\n    case SIGN_OUT:\r\n      return { ...state, isSignedIn: false, isAnonymous: false, userId: null };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  CART_ADD,\r\n  CART_FETCH,\r\n  CART_REMOVE,\r\n  CART_CLEAN\r\n} from \"../actions/cartActions/type\";\r\nimport _ from \"lodash\";\r\nconst initialState = {};\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case CART_ADD:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case CART_FETCH:\r\n      return { ...state, ..._.mapKeys(action.payload, \"id\") };\r\n    case CART_REMOVE:\r\n      return _.omit(state, action.payload);\r\n    case CART_CLEAN:\r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport authReducer from \"./authReducer\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport itemReducer from \"./itemReducer\";\r\nimport cartReducer from \"./cartReducer\";\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  items: itemReducer,\r\n  cart: cartReducer\r\n});\r\n","import {\r\n  ITEM_CREATE,\r\n  ITEM_EDIT,\r\n  ITEMS_FETCH,\r\n  ITEM_FETCH,\r\n  ITEM_DELETE,\r\n  ITEM_SORTED\r\n} from \"../actions/types\";\r\nimport _ from \"lodash\";\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case ITEM_CREATE:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case ITEM_EDIT:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case ITEM_FETCH:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case ITEMS_FETCH:\r\n      // console.log(\"got items\");\r\n      return { ..._.mapKeys(action.payload, \"id\") };\r\n    case ITEM_DELETE:\r\n      return _.omit(state, action.payload);\r\n    case ITEM_SORTED:\r\n      // console.table(action.payload);\r\n      return _.mapKeys(action.payload, \"id\");\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport reduxThunk from \"redux-thunk\";\r\nimport reducers from \"./reducers\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(reduxThunk))\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}